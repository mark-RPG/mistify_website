{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Documents/programming/mistify_website/components/Navigation/Nav.jsx"],"sourcesContent":["'use client'\nimport Link from 'next/link'\nimport Image from 'next/image'\nimport React, { useState } from 'react'\nimport { useLanguage } from '@/components/context/LanguageContext'\nimport { Globe } from 'lucide-react'\n\nconst Nav = () => {\n  const [isOpen, setIsOpen] = useState(false)\n  const { locale, switchLanguage } = useLanguage()\n\n  const toggleLanguage = () => {\n    switchLanguage(locale === 'en' ? 'lv' : 'en')\n  }\n\n  return (\n    <>\n      <div className=\"fixed top-6 left-0 w-full px-4 sm:px-10 z-50 flex justify-between items-center\">\n        {/* Left side: Logo + Connect (Desktop) */}\n        <div className=\"flex items-center gap-6 relative\">\n          {/* Smooth fading dark gradient behind logo */}\n          <div className=\"absolute -left-10 -top-6 w-[320px] h-[90px] bg-gradient-to-r from-black/20 via-black/10 to-transparent rounded-3xl blur-3xl pointer-events-none hidden md:block\"></div>\n\n          {/* Logo */}\n          <Link\n            href=\"/\"\n            className=\"relative z-10 backdrop-blur-2xl bg-black/20 rounded-2xl p-2 shadow-[0_8px_30px_rgba(0,0,0,0.5)] hover:shadow-[0_8px_40px_rgba(0,0,0,0.6)] hover:bg-black/25 transition-all duration-300 flex items-center justify-center\"\n          >\n            <Image\n              src=\"/logo.png\"\n              alt=\"Logo\"\n              width={52}\n              height={52}\n              className=\"hover:scale-105 transition-transform duration-300\"\n            />\n          </Link>\n\n          {/* Connect Button - Desktop Only */}\n          <Link\n            href=\"/connect\"\n            className=\"hidden md:block relative z-10 backdrop-blur-xl bg-white/20 text-black font-medium px-6 py-3 rounded-2xl shadow-lg hover:bg-white/30 transition-all duration-300 hover:scale-105\"\n          >\n            Connect\n          </Link>\n        </div>\n\n        {/* Right side: Desktop Navigation */}\n        <div className=\"hidden md:flex items-center gap-6\">\n          {/* Language Switcher */}\n          <button\n            onClick={toggleLanguage}\n            className=\"backdrop-blur-xl bg-white/20 text-black font-medium px-4 py-3 rounded-2xl shadow-lg hover:bg-white/30 transition-all duration-300 hover:scale-105 flex items-center gap-2\"\n            aria-label=\"Switch language\"\n          >\n            <Globe className=\"w-5 h-5\" />\n            <span className=\"uppercase font-semibold\">{locale}</span>\n          </button>\n\n          <Link\n            href=\"/contact\"\n            className=\"backdrop-blur-xl bg-white/25 text-black font-medium px-6 py-3 rounded-2xl shadow-[0_8px_35px_rgba(0,0,0,0.35)] hover:bg-white/35 hover:shadow-[0_8px_45px_rgba(0,0,0,0.45)] transition-all duration-300 hover:scale-105\"\n          >\n            Contact\n          </Link>\n\n          <Link\n            href=\"/buy\"\n            className=\"backdrop-blur-2xl bg-white/40 text-black font-semibold px-7 py-3 rounded-2xl shadow-[0_10px_45px_rgba(0,0,0,0.45)] hover:bg-white/50 hover:shadow-[0_10px_60px_rgba(0,0,0,0.55)] transition-all duration-300 hover:scale-110\"\n          >\n            Buy Now\n          </Link>\n        </div>\n\n        {/* Burger Menu Button - Mobile Only */}\n        <button\n          onClick={() => setIsOpen(!isOpen)}\n          className=\"md:hidden relative z-50 backdrop-blur-xl bg-white/25 text-black p-3 rounded-2xl shadow-[0_10px_45px_rgba(0,0,0,0.45)] hover:bg-white/35 hover:shadow-[0_10px_60px_rgba(0,0,0,0.55)] transition-all duration-300\"\n          aria-label=\"Toggle menu\"\n        >\n          <div className=\"w-6 h-5 flex flex-col justify-between\">\n            <span\n              className={`w-full h-0.5 bg-gray-700 rounded-full transition-all duration-300 ${\n                isOpen ? 'rotate-45 translate-y-2' : ''\n              }`}\n            ></span>\n            <span\n              className={`w-full h-0.5 bg-gray-700 rounded-full transition-all duration-300 ${\n                isOpen ? 'opacity-0' : ''\n              }`}\n            ></span>\n            <span\n              className={`w-full h-0.5 bg-gray-700 rounded-full transition-all duration-300 ${\n                isOpen ? '-rotate-45 -translate-y-2' : ''\n              }`}\n            ></span>\n          </div>\n        </button>\n      </div>\n\n      {/* Mobile Menu Overlay */}\n      <div\n        className={`md:hidden fixed inset-0 z-40 transition-all duration-300 ${\n          isOpen ? 'opacity-100 pointer-events-auto' : 'opacity-0 pointer-events-none'\n        }`}\n      >\n        {/* Backdrop */}\n        <div\n          className=\"absolute inset-0 backdrop-blur-2xl bg-black/60\"\n          onClick={() => setIsOpen(false)}\n        ></div>\n\n        {/* Menu Content */}\n        <div\n          className={`absolute top-28 right-4 left-4 backdrop-blur-2xl bg-white/15 rounded-3xl shadow-[0_20px_60px_rgba(0,0,0,0.6)] p-6 transition-all duration-300 ${\n            isOpen ? 'translate-y-0 opacity-100' : '-translate-y-4 opacity-0'\n          }`}\n        >\n          <nav className=\"flex flex-col gap-4\">\n            {/* Language Switcher - Mobile */}\n            <button\n              onClick={() => {\n                toggleLanguage()\n                setIsOpen(false)\n              }}\n              className=\"backdrop-blur-xl bg-white/20 text-black font-medium px-6 py-4 rounded-2xl shadow-lg hover:bg-white/30 transition-all duration-300 flex items-center justify-center gap-2\"\n            >\n              <Globe className=\"w-5 h-5\" />\n              <span className=\"uppercase font-semibold\">{locale === 'en' ? 'Switch to LV' : 'Switch to EN'}</span>\n            </button>\n\n            <Link\n              href=\"/connect\"\n              onClick={() => setIsOpen(false)}\n              className=\"backdrop-blur-xl bg-white/20 text-black font-medium px-6 py-4 rounded-2xl shadow-lg hover:bg-white/30 transition-all duration-300 text-center\"\n            >\n              Connect\n            </Link>\n            \n            <Link\n              href=\"/contact\"\n              onClick={() => setIsOpen(false)}\n              className=\"backdrop-blur-xl bg-white/25 text-black font-medium px-6 py-4 rounded-2xl shadow-lg hover:bg-white/35 transition-all duration-300 text-center\"\n            >\n              Contact\n            </Link>\n\n            <Link\n              href=\"/buy\"\n              onClick={() => setIsOpen(false)}\n              className=\"backdrop-blur-2xl bg-white/40 text-black font-semibold px-6 py-4 rounded-2xl shadow-lg hover:bg-white/50 transition-all duration-300 text-center\"\n            >\n              Buy Now\n            </Link>\n          </nav>\n        </div>\n      </div>\n    </>\n  )\n}\n\nexport default Nav"],"names":[],"mappings":";;;;AACA;AACA;AACA;AACA;AACA;;;AALA;;;;;;AAOA,MAAM,MAAM;;IACV,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACrC,MAAM,EAAE,MAAM,EAAE,cAAc,EAAE,GAAG,CAAA,GAAA,2IAAA,CAAA,cAAW,AAAD;IAE7C,MAAM,iBAAiB;QACrB,eAAe,WAAW,OAAO,OAAO;IAC1C;IAEA,qBACE;;0BACE,6LAAC;gBAAI,WAAU;;kCAEb,6LAAC;wBAAI,WAAU;;0CAEb,6LAAC;gCAAI,WAAU;;;;;;0CAGf,6LAAC,+JAAA,CAAA,UAAI;gCACH,MAAK;gCACL,WAAU;0CAEV,cAAA,6LAAC,gIAAA,CAAA,UAAK;oCACJ,KAAI;oCACJ,KAAI;oCACJ,OAAO;oCACP,QAAQ;oCACR,WAAU;;;;;;;;;;;0CAKd,6LAAC,+JAAA,CAAA,UAAI;gCACH,MAAK;gCACL,WAAU;0CACX;;;;;;;;;;;;kCAMH,6LAAC;wBAAI,WAAU;;0CAEb,6LAAC;gCACC,SAAS;gCACT,WAAU;gCACV,cAAW;;kDAEX,6LAAC,uMAAA,CAAA,QAAK;wCAAC,WAAU;;;;;;kDACjB,6LAAC;wCAAK,WAAU;kDAA2B;;;;;;;;;;;;0CAG7C,6LAAC,+JAAA,CAAA,UAAI;gCACH,MAAK;gCACL,WAAU;0CACX;;;;;;0CAID,6LAAC,+JAAA,CAAA,UAAI;gCACH,MAAK;gCACL,WAAU;0CACX;;;;;;;;;;;;kCAMH,6LAAC;wBACC,SAAS,IAAM,UAAU,CAAC;wBAC1B,WAAU;wBACV,cAAW;kCAEX,cAAA,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCACC,WAAW,CAAC,kEAAkE,EAC5E,SAAS,4BAA4B,IACrC;;;;;;8CAEJ,6LAAC;oCACC,WAAW,CAAC,kEAAkE,EAC5E,SAAS,cAAc,IACvB;;;;;;8CAEJ,6LAAC;oCACC,WAAW,CAAC,kEAAkE,EAC5E,SAAS,8BAA8B,IACvC;;;;;;;;;;;;;;;;;;;;;;;0BAOV,6LAAC;gBACC,WAAW,CAAC,yDAAyD,EACnE,SAAS,oCAAoC,iCAC7C;;kCAGF,6LAAC;wBACC,WAAU;wBACV,SAAS,IAAM,UAAU;;;;;;kCAI3B,6LAAC;wBACC,WAAW,CAAC,8IAA8I,EACxJ,SAAS,8BAA8B,4BACvC;kCAEF,cAAA,6LAAC;4BAAI,WAAU;;8CAEb,6LAAC;oCACC,SAAS;wCACP;wCACA,UAAU;oCACZ;oCACA,WAAU;;sDAEV,6LAAC,uMAAA,CAAA,QAAK;4CAAC,WAAU;;;;;;sDACjB,6LAAC;4CAAK,WAAU;sDAA2B,WAAW,OAAO,iBAAiB;;;;;;;;;;;;8CAGhF,6LAAC,+JAAA,CAAA,UAAI;oCACH,MAAK;oCACL,SAAS,IAAM,UAAU;oCACzB,WAAU;8CACX;;;;;;8CAID,6LAAC,+JAAA,CAAA,UAAI;oCACH,MAAK;oCACL,SAAS,IAAM,UAAU;oCACzB,WAAU;8CACX;;;;;;8CAID,6LAAC,+JAAA,CAAA,UAAI;oCACH,MAAK;oCACL,SAAS,IAAM,UAAU;oCACzB,WAAU;8CACX;;;;;;;;;;;;;;;;;;;;;;;;;AAQb;GAvJM;;QAE+B,2IAAA,CAAA,cAAW;;;KAF1C;uCAyJS"}},
    {"offset": {"line": 284, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 290, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Documents/programming/mistify_website/components/connectPageText.js"],"sourcesContent":["// Connect Page Text Translations\n\nconst connectPageText = {\n  en: {\n    pageTitle: \"Device Connection\",\n    addDeviceButton: \"Add Device\",\n    \n    // Add Device Modal\n    modalTitle: \"Add New Device\",\n    modalPlaceholder: \"Enter Device ID\",\n    modalCancel: \"Cancel\",\n    modalAdd: \"Add Device\",\n    modalAdding: \"Adding...\",\n    \n    // Error Messages\n    errorEmpty: \"Device ID cannot be empty.\",\n    errorExists: \"This device has already been added.\",\n    errorInvalid: \"Device ID does not exist or is invalid.\",\n    errorFetch: \"There was an error checking the device ID. Please try again later.\",\n    \n    // Confirm Remove Modal\n    confirmTitle: \"Confirm Removal\",\n    confirmMessage: \"Are you sure you want to remove the device with ID:\",\n    confirmCancel: \"Cancel\",\n    confirmRemove: \"Remove\",\n    \n    // Device Card\n    addNameButton: \"+ Add Device Name\",\n    deviceIdLabel: \"ID:\",\n    \n    // Empty State\n    emptyTitle: \"No devices connected\",\n    emptySubtitle: \"Click the \\\"Add Device\\\" button above to connect a device\",\n  },\n  \n  lv: {\n    pageTitle: \"Ierīces Savienojums\",\n    addDeviceButton: \"Pievienot Ierīci\",\n    \n    // Add Device Modal\n    modalTitle: \"Pievienot Jaunu Ierīci\",\n    modalPlaceholder: \"Ievadiet Ierīces ID\",\n    modalCancel: \"Atcelt\",\n    modalAdd: \"Pievienot Ierīci\",\n    modalAdding: \"Pievieno...\",\n    \n    // Error Messages\n    errorEmpty: \"Ierīces ID nevar būt tukšs.\",\n    errorExists: \"Šī ierīce jau ir pievienota.\",\n    errorInvalid: \"Ierīces ID neeksistē vai nav derīgs.\",\n    errorFetch: \"Radās kļūda, pārbaudot ierīces ID. Lūdzu, mēģiniet vēlreiz vēlāk.\",\n    \n    // Confirm Remove Modal\n    confirmTitle: \"Apstiprināt Noņemšanu\",\n    confirmMessage: \"Vai tiešām vēlaties noņemt ierīci ar ID:\",\n    confirmCancel: \"Atcelt\",\n    confirmRemove: \"Noņemt\",\n    \n    // Device Card\n    addNameButton: \"+ Pievienot Ierīces Nosaukumu\",\n    deviceIdLabel: \"ID:\",\n    \n    // Empty State\n    emptyTitle: \"Nav pievienotu ierīču\",\n    emptySubtitle: \"Noklikšķiniet uz pogas \\\"Pievienot Ierīci\\\", lai pievienotu ierīci\",\n  }\n};\n\nexport const getConnectPageText = (locale) => {\n  return connectPageText[locale] || connectPageText.en;\n};"],"names":[],"mappings":"AAAA,iCAAiC;;;;AAEjC,MAAM,kBAAkB;IACtB,IAAI;QACF,WAAW;QACX,iBAAiB;QAEjB,mBAAmB;QACnB,YAAY;QACZ,kBAAkB;QAClB,aAAa;QACb,UAAU;QACV,aAAa;QAEb,iBAAiB;QACjB,YAAY;QACZ,aAAa;QACb,cAAc;QACd,YAAY;QAEZ,uBAAuB;QACvB,cAAc;QACd,gBAAgB;QAChB,eAAe;QACf,eAAe;QAEf,cAAc;QACd,eAAe;QACf,eAAe;QAEf,cAAc;QACd,YAAY;QACZ,eAAe;IACjB;IAEA,IAAI;QACF,WAAW;QACX,iBAAiB;QAEjB,mBAAmB;QACnB,YAAY;QACZ,kBAAkB;QAClB,aAAa;QACb,UAAU;QACV,aAAa;QAEb,iBAAiB;QACjB,YAAY;QACZ,aAAa;QACb,cAAc;QACd,YAAY;QAEZ,uBAAuB;QACvB,cAAc;QACd,gBAAgB;QAChB,eAAe;QACf,eAAe;QAEf,cAAc;QACd,eAAe;QACf,eAAe;QAEf,cAAc;QACd,YAAY;QACZ,eAAe;IACjB;AACF;AAEO,MAAM,qBAAqB,CAAC;IACjC,OAAO,eAAe,CAAC,OAAO,IAAI,gBAAgB,EAAE;AACtD"}},
    {"offset": {"line": 354, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 360, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Documents/programming/mistify_website/components/Connect.jsx"],"sourcesContent":["\"use client\";\nimport React, { useState, useEffect } from 'react';\nimport Nav from \"@/components/Navigation/Nav\";\nimport { FaPlus, FaTrash, FaPencilAlt, FaSave, FaTimes, FaQuestionCircle } from 'react-icons/fa';\nimport { getConnectPageText } from '@/components/connectPageText';\nimport { useLanguage } from '@/components/context/LanguageContext';\nimport GuidePopup from '@/components/GuidePopup';\n\nconst Connect = ({ setActiveDevice, refreshOnReturn }) => {\n  const [devices, setDevices] = useState([]);\n  const [showModal, setShowModal] = useState(false);\n  const [newDeviceId, setNewDeviceId] = useState('');\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [showConfirmRemove, setShowConfirmRemove] = useState(false);\n  const [deviceToRemove, setDeviceToRemove] = useState(null);\n  const [editingDeviceId, setEditingDeviceId] = useState(null);\n  const [editName, setEditName] = useState('');\n  const [showGuide, setShowGuide] = useState(false);\n\n  // Language system\n  const { locale } = useLanguage();\n  const [text, setText] = useState(getConnectPageText(\"en\"));\n\n  // Update text when locale changes\n  useEffect(() => {\n    const newText = getConnectPageText(locale);\n    if (newText) {\n      setText(newText);\n    }\n  }, [locale]);\n\n  useEffect(() => {\n    const savedDevices = localStorage.getItem('savedDevices');\n    if (savedDevices) {\n      setDevices(JSON.parse(savedDevices));\n    }\n  }, []);\n\n  useEffect(() => {\n    if (devices.length > 0) {\n      localStorage.setItem('savedDevices', JSON.stringify(devices));\n    }\n  }, [devices]);\n\n  const selectDevice = (id) => {\n    // Don't select device if we're in editing mode\n    if (editingDeviceId) return;\n    \n    setActiveDevice(id);\n  };\n\n  const addDevice = async () => {\n    if (!newDeviceId) {\n      setError(text.errorEmpty);\n      return;\n    }\n\n    // Check if device already exists in the array\n    if (devices.some(device => device.id === newDeviceId)) {\n      setError(text.errorExists);\n      return;\n    }\n\n    setLoading(true);\n    setError('');\n\n    try {\n      const response = await fetch(`https://simple-api.mistify.lv/api/device/exist?id=${newDeviceId}`);\n      if (!response.ok) {\n        throw new Error(`Error: ${response.statusText} (${response.status})`);\n      }\n      const data = await response.text();\n\n      if (data === 'true') {\n        const newDevice = { \n          id: newDeviceId, \n          name: ''\n        };\n        \n        const updatedDevices = [...devices, newDevice];\n        setDevices(updatedDevices);\n        \n        // Save to localStorage\n        localStorage.setItem('savedDevices', JSON.stringify(updatedDevices));\n        \n        setNewDeviceId('');\n        setShowModal(false);\n      } else {\n        setError(text.errorInvalid);\n      }\n    } catch (err) {\n      console.error('Fetch error:', err);\n      setError(text.errorFetch);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const confirmRemoveDevice = (id) => {\n    setDeviceToRemove(id);\n    setShowConfirmRemove(true);\n  };\n\n  const removeDevice = () => {\n    const updatedDevices = devices.filter(device => device.id !== deviceToRemove);\n    setDevices(updatedDevices);\n    \n    // Save updated devices list to localStorage\n    localStorage.setItem('savedDevices', JSON.stringify(updatedDevices));\n    \n    setShowConfirmRemove(false);\n    setDeviceToRemove(null);\n  };\n\n  const startEditing = (id, currentName) => {\n    setEditingDeviceId(id);\n    setEditName(currentName || '');\n  };\n\n  const cancelEditing = () => {\n    setEditingDeviceId(null);\n    setEditName('');\n  };\n\n  const saveDeviceName = (id) => {\n    const updatedDevices = devices.map(device => \n      device.id === id ? { ...device, name: editName } : device\n    );\n    \n    setDevices(updatedDevices);\n    \n    // Save updated devices with new name to localStorage\n    localStorage.setItem('savedDevices', JSON.stringify(updatedDevices));\n    \n    setEditingDeviceId(null);\n  };\n\n  return (\n    <div>\n      <Nav />\n      <div className=\"p-12 bg-gray-200 mt-[110px] h-[calc(100vh-110px)] relative text-gray-900\">\n        <div className=\"flex justify-between items-center mb-8\">\n          <h2 className=\"text-3xl font-bold\">{text.pageTitle}</h2>\n          <div className=\"flex gap-4\">\n            <button\n              onClick={() => setShowGuide(true)}\n              className=\"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-lg shadow-lg hover:from-indigo-600 hover:to-purple-700 transition-all duration-300 ease-in-out transform hover:scale-105\"\n            >\n              <FaQuestionCircle /> View Guide\n            </button>\n            <button\n              onClick={() => setShowModal(true)}\n              className=\"flex items-center gap-2 px-6 py-3 bg-blue-500 text-white rounded-lg shadow-lg hover:bg-blue-600 transition duration-300 ease-in-out\"\n            >\n              <FaPlus /> {text.addDeviceButton}\n            </button>\n          </div>\n        </div>\n\n        {/* Guide Popup */}\n        <GuidePopup \n          isOpen={showGuide} \n          onClose={() => setShowGuide(false)}\n          text={text}\n        />\n\n        {showModal && (\n          <div className=\"fixed inset-0 bg-[rgba(0, 0, 0, 0.7)] z-10\" onClick={() => setShowModal(false)} />\n        )}\n\n        {showModal && (\n          <div className=\"fixed inset-0 flex justify-center items-center z-20 bg-[rgba(0,0,0,0.7)]\">\n            <div className=\"bg-white p-8 rounded-xl shadow-xl w-96 max-w-lg\">\n              <h3 className=\"text-2xl font-semibold text-gray-800 mb-6\">{text.modalTitle}</h3>\n              {error && <p className=\"text-red-500 text-sm mb-4\">{error}</p>}\n              <input\n                type=\"text\"\n                value={newDeviceId}\n                onChange={(e) => setNewDeviceId(e.target.value)}\n                className=\"w-full p-4 border border-gray-300 rounded-lg mb-6 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                placeholder={text.modalPlaceholder}\n              />\n              <div className=\"flex justify-end gap-4\">\n                <button onClick={() => setShowModal(false)} className=\"px-6 py-2 bg-gray-300 rounded-lg\">{text.modalCancel}</button>\n                <button onClick={addDevice} className=\"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition duration-300 ease-in-out\" disabled={loading}>{loading ? text.modalAdding : text.modalAdd}</button>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {showConfirmRemove && (\n          <div className=\"fixed inset-0 flex justify-center items-center z-30 bg-[rgba(0,0,0,0.7)]\">\n            <div className=\"bg-white p-6 rounded-xl shadow-xl w-80\">\n              <h3 className=\"text-lg font-semibold mb-4\">{text.confirmTitle}</h3>\n              <p className=\"mb-4\">{text.confirmMessage} <strong>{deviceToRemove}</strong>?</p>\n              <div className=\"flex justify-end gap-4\">\n                <button onClick={() => setShowConfirmRemove(false)} className=\"px-6 py-2 bg-gray-300 rounded-lg\">{text.confirmCancel}</button>\n                <button onClick={removeDevice} className=\"px-6 py-2 bg-red-500 text-white rounded-lg\">{text.confirmRemove}</button>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {devices.length > 0 ? (\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8\">\n            {devices.map((device) => (\n              <div\n                key={device.id}\n                className=\"p-8 bg-white rounded-lg shadow-md flex flex-col items-start transition-all duration-300 ease-in-out hover:scale-105 hover:shadow-xl hover:cursor-pointer relative\"\n                onClick={() => selectDevice(device.id)}\n                style={{ \n                  transition: \"transform 0.3s ease, box-shadow 0.3s ease\" \n                }}\n              >\n                {editingDeviceId === device.id ? (\n                  <div className=\"w-full mb-4\" onClick={(e) => e.stopPropagation()}>\n                    <input\n                      type=\"text\"\n                      value={editName}\n                      onChange={(e) => setEditName(e.target.value)}\n                      className=\"w-full p-2 border border-gray-300 rounded mb-2\"\n                      placeholder=\"Device name\"\n                      autoFocus\n                    />\n                    <div className=\"flex justify-end gap-2\">\n                      <button \n                        onClick={() => cancelEditing()} \n                        className=\"p-1 bg-gray-200 rounded hover:bg-gray-300\"\n                      >\n                        <FaTimes className=\"text-gray-600\" />\n                      </button>\n                      <button \n                        onClick={() => saveDeviceName(device.id)} \n                        className=\"p-1 bg-green-500 rounded hover:bg-green-600\"\n                      >\n                        <FaSave className=\"text-white\" />\n                      </button>\n                    </div>\n                  </div>\n                ) : (\n                  <div className=\"flex justify-between items-center w-full mb-4\">\n                    <div className=\"flex items-center\">\n                      {device.name ? (\n                        <>\n                          <h3 className=\"text-xl font-semibold mr-2\">{device.name}</h3>\n                          <button \n                            onClick={(e) => {\n                              e.stopPropagation();\n                              startEditing(device.id, device.name);\n                            }} \n                            className=\"text-blue-500 hover:text-blue-700\"\n                          >\n                            <FaPencilAlt />\n                          </button>\n                        </>\n                      ) : (\n                        <button \n                          onClick={(e) => {\n                            e.stopPropagation();\n                            startEditing(device.id, '');\n                          }} \n                          className=\"px-3 py-1 bg-blue-100 text-blue-600 rounded-md hover:bg-blue-200 text-sm\"\n                        >\n                          {text.addNameButton}\n                        </button>\n                      )}\n                    </div>\n                  </div>\n                )}\n                <div className=\"text-sm text-gray-500 mb-4\">{text.deviceIdLabel} {device.id}</div> \n                <button \n                  onClick={(e) => {\n                    e.stopPropagation();\n                    confirmRemoveDevice(device.id);\n                  }} \n                  className=\"absolute top-3 right-3 text-red-500 hover:text-red-700 transition-colors duration-200\"\n                >\n                  <FaTrash />\n                </button>\n              </div>\n            ))}\n          </div>\n        ) : (\n          <div className=\"flex flex-col items-center justify-center h-64 rounded-lg\">\n            <p className=\"text-xl text-gray-600 mb-4\">{text.emptyTitle}</p>\n            <p className=\"text-gray-500\">{text.emptySubtitle}</p>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Connect;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 940, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 946, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Documents/programming/mistify_website/components/context/DeviceContext.js"],"sourcesContent":["import React, { createContext, useState, useContext, useEffect, useRef } from 'react';\n\nconst DeviceContext = createContext();\n\nexport const DeviceProvider = ({ children }) => {\n  const [deviceData, setDeviceData] = useState({\n    humidity: 56.6,\n    temperature: 16.8,\n    status: 'Off',\n    targetHumidity: 50,\n    timer: null,\n    timerActive: false, \n    brightness: 127,\n    color: '255, 255, 0',\n    controlMode: 'auto',\n    mode: 'Off',\n    lidStatus: \"Unknown\",\n    speed: 20,\n    divRef: null,\n    isConnected: false,\n  });\n  \n  const [ws, setWs] = useState(null);\n  const [currentDeviceId, setCurrentDeviceId] = useState(null);\n\n  const autoReconnectRef = useRef(true);\n  const pingIntervalRef = useRef(null);\n  const reconnectTimeoutRef = useRef(null);\n  const heartbeatTimeoutRef = useRef(null);\n  const connectionAttemptRef = useRef(0);\n\n  const hasReceivedServerDataRef = useRef(false);\n  const isInitialLoadRef = useRef(true);\n  const skipNextChangeRef = useRef(false);\n\n  const [timeLeft, setTimeLeft] = useState(0);\n  const [isActive, setIsActive] = useState(false);\n\n  const prevDeviceDataRef = useRef(deviceData);\n  \n  const timerRefs = useRef({\n    status: null,\n    targetHumidity: null,\n    timer: null,\n    brightness: null,\n    colorMode: null,\n  });\n\n  const DEBOUNCE_DELAY = 2000;\n  const PING_INTERVAL = 20000; // 20 seconds\n  const HEARTBEAT_TIMEOUT = 30000; // 30 seconds to wait for response\n  const RECONNECT_DELAYS = [500, 1000, 2000, 5000, 10000, 15000]; // Faster initial reconnect\n  const errorCache = {}; // Used to throttle repeat errors\n  const REPORT_INTERVAL = 30000;\n\n  function reportError(errorCode, errorMessage, context, severity, varName, varValue) {\n    const now = Date.now();\n    let key = errorCode;\n    if (varName) key += `_${varName}`;\n\n    // Throttle duplicate errors (same key & value within interval)\n    const meta = errorCache[key];\n    if (meta && now - meta.lastReportTime < REPORT_INTERVAL && meta.lastValue === varValue) {\n      console.log(\"Duplicate error suppressed:\", key);\n      return;\n    }\n\n    // Construct error payload\n    const doc = {\n      type: \"error_report\",\n      currentDeviceId,\n      error_code: errorCode,\n      timestamp: Math.floor(now / 1000),\n      severity,\n    };\n\n    if (errorMessage && errorMessage.length < 50) {\n      doc.error_message = errorMessage;\n    }\n\n    if (varName) {\n      doc.variable = {\n        name: varName,\n        value: varValue,\n      };\n    }\n\n    if (context && typeof context === \"object\") {\n      doc.context = context;\n    }\n\n    const payload = JSON.stringify(doc);\n    const message = `ERROR_REPORT:${currentDeviceId}:${payload}`;\n\n    // Send with debounce to prevent rapid fire\n    debouncedSendCommand(\"error_report\", () => message, errorCode);\n\n    console.log(\"Error reported:\", payload);\n\n    // Update cache\n    errorCache[key] = {\n      lastReportTime: now,\n      lastValue: varValue,\n    };\n  }\n\n  const resetHeartbeat = () => {\n    try {\n      if (heartbeatTimeoutRef.current) {\n        clearTimeout(heartbeatTimeoutRef.current);\n      }\n\n      heartbeatTimeoutRef.current = setTimeout(() => {\n        console.warn(\"Heartbeat timeout - connection seems dead, forcing reconnect\");\n        reportError(\n          \"HEARTBEAT_TIMEOUT\",\n          \"No heartbeat received in expected time\",\n          { context: \"heartbeat_monitor\" },\n          \"warning\",\n          \"connection_status\",\n          \"timeout\"\n        );\n\n        if (ws) {\n          ws.close(); // triggers reconnect logic elsewhere\n        }\n      }, HEARTBEAT_TIMEOUT);\n    } catch (err) {\n      reportError(\n        \"HEARTBEAT_RESET_FAIL\",\n        err.message || \"Failed to reset heartbeat\",\n        { function: \"resetHeartbeat\" },\n        \"error\",\n        null,\n        \"\"\n      );\n    }\n  };\n\n  const startPingInterval = () => {\n    try {\n      if (pingIntervalRef.current) {\n        clearInterval(pingIntervalRef.current);\n      }\n\n      pingIntervalRef.current = setInterval(() => {\n        try {\n          if (ws && ws.readyState === WebSocket.OPEN && currentDeviceId) {\n            const pingMessage = `PING:${currentDeviceId}`;\n            console.log(\"Sending ping:\", pingMessage);\n            ws.send(pingMessage);\n            resetHeartbeat();\n          } else if (!currentDeviceId) {\n            reportError(\n              \"PING_NO_DEVICE_ID\",\n              \"Cannot send ping: currentDeviceId missing\",\n              { function: \"startPingInterval\" },\n              \"error\",\n              \"currentDeviceId\",\n              \"undefined\"\n            );\n          }\n        } catch (sendErr) {\n          if (ws && ws.readyState === WebSocket.OPEN) {\n            reportError(\n              \"PING_SEND_FAIL\",\n              sendErr.message || \"Failed to send ping\",\n              { function: \"startPingInterval\" },\n              \"error\",\n              \"ping_send\",\n              \"failed\"\n            );\n          }\n        }\n      }, PING_INTERVAL);\n      if (ws && ws.readyState === WebSocket.OPEN && currentDeviceId) {\n        setTimeout(() => {\n          try {\n            const pingMessage = `PING:${currentDeviceId}`;\n            ws.send(pingMessage);\n            resetHeartbeat();\n          } catch (err) {\n            reportError(\n              \"PING_INITIAL_FAIL\",\n              err.message || \"Failed to send initial ping\",\n              { function: \"startPingInterval\" },\n              \"error\",\n              \"ping_initial\",\n              \"failed\"\n            );\n          }\n        }, 1000);\n      }\n    } catch (err) {\n      reportError(\n        \"PING_INTERVAL_FAIL\",\n        err.message || \"Failed to start ping interval\",\n        { function: \"startPingInterval\" },\n        \"error\",\n        null,\n        \"\"\n      );\n    }\n  };\n\n  const stopPingInterval = () => {\n    try {\n      if (pingIntervalRef.current) {\n        clearInterval(pingIntervalRef.current);\n        pingIntervalRef.current = null;\n      }\n      if (heartbeatTimeoutRef.current) {\n        clearTimeout(heartbeatTimeoutRef.current);\n        heartbeatTimeoutRef.current = null;\n      }\n    } catch (err) {\n      reportError(\n        \"STOP_PING_FAIL\",\n        err.message || \"Failed to stop ping or heartbeat\",\n        { function: \"stopPingInterval\" },\n        \"warning\",\n        null,\n        \"\"\n      );\n    }\n  };\n\n  const handleReconnect = (deviceId) => {\n    try {\n      if (!autoReconnectRef.current) return;\n\n      if (document.visibilityState !== \"visible\") {\n        console.log(\"Tab not visible, skipping reconnect. Will reconnect when tab becomes active.\");\n        reportError(\n          \"RECONNECT_SKIPPED_INACTIVE_TAB\",\n          \"Reconnect postponed because tab is not visible\",\n          { function: \"handleReconnect\" },\n          \"info\",\n          \"visibility_state\",\n          document.visibilityState\n        );\n        return;\n      }\n\n      const delay =\n        RECONNECT_DELAYS[Math.min(connectionAttemptRef.current, RECONNECT_DELAYS.length - 1)];\n      console.log(\n        `Attempting reconnect in ${delay}ms (attempt ${connectionAttemptRef.current + 1})`\n      );\n\n      if (reconnectTimeoutRef.current) {\n        clearTimeout(reconnectTimeoutRef.current);\n      }\n\n      reconnectTimeoutRef.current = setTimeout(() => {\n        try {\n          connectionAttemptRef.current++;\n          connectToDevice(deviceId);\n        } catch (err) {\n          reportError(\n            \"RECONNECT_FAIL\",\n            err.message || \"Failed during reconnect attempt\",\n            { function: \"handleReconnect\" },\n            \"error\",\n            \"attempt_number\",\n            String(connectionAttemptRef.current)\n          );\n        }\n      }, delay);\n    } catch (err) {\n      reportError(\n        \"RECONNECT_HANDLER_FAIL\",\n        err.message || \"Unexpected error in handleReconnect\",\n        { function: \"handleReconnect\" },\n        \"error\",\n        null,\n        \"\"\n      );\n    }\n  };\n\n  useEffect(() => {\n    const handleVisibilityChange = () => {\n      console.log(\"Page visibility changed:\", document.visibilityState);\n\n      try {\n        if (document.visibilityState === \"visible\" && currentDeviceId) {\n          // Page became visible - reconnect or test connection\n          if (!ws || ws.readyState !== WebSocket.OPEN) {\n            console.log(\n              \"Tab became active and WebSocket not connected, reconnecting immediately\"\n            );\n            connectionAttemptRef.current = 0;\n            connectToDevice(currentDeviceId);\n          } else {\n            try {\n              const pingMessage = `PING:${currentDeviceId}`;\n              ws.send(pingMessage);\n              resetHeartbeat();\n            } catch (sendErr) {\n              if (ws && ws.readyState === WebSocket.OPEN) {\n                reportError(\n                  \"PING_ON_VISIBILITY_FAIL\",\n                  sendErr.message || \"Failed to send ping on visibility change\",\n                  { function: \"handleVisibilityChange\" },\n                  \"error\",\n                  \"visibility_state\",\n                  document.visibilityState\n                );\n              }\n            }\n          }\n        } else if (document.visibilityState === \"hidden\") {\n          console.log(\"Tab became hidden, stopping pings to save resources\");\n          try {\n            stopPingInterval();\n          } catch (err) {\n            reportError(\n              \"STOP_PING_ON_HIDE_FAIL\",\n              err.message || \"Failed to stop pings when tab hidden\",\n              { function: \"handleVisibilityChange\" },\n              \"warning\",\n              \"visibility_state\",\n              \"hidden\"\n            );\n          }\n        }\n      } catch (err) {\n        reportError(\n          \"VISIBILITY_HANDLER_FAIL\",\n          err.message || \"Unexpected error in handleVisibilityChange\",\n          { function: \"handleVisibilityChange\" },\n          \"error\",\n          \"visibility_state\",\n          document.visibilityState\n        );\n      }\n    };\n\n    const handleFocus = () => {\n      try {\n        if (currentDeviceId && (!ws || ws.readyState !== WebSocket.OPEN)) {\n          console.log(\n            \"Window focused and WebSocket not connected, reconnecting immediately\"\n          );\n          connectionAttemptRef.current = 0;\n          connectToDevice(currentDeviceId);\n        }\n      } catch (err) {\n        reportError(\n          \"FOCUS_HANDLER_FAIL\",\n          err.message || \"Error in handleFocus\",\n          { function: \"handleFocus\" },\n          \"error\",\n          null,\n          \"\"\n        );\n      }\n    };\n\n    const handleBlur = () => {\n      try {\n        console.log(\"Window lost focus\");\n        // No action required\n      } catch (err) {\n        reportError(\n          \"BLUR_HANDLER_FAIL\",\n          err.message || \"Error in handleBlur\",\n          { function: \"handleBlur\" },\n          \"warning\",\n          null,\n          \"\"\n        );\n      }\n    };\n\n    document.addEventListener(\"visibilitychange\", handleVisibilityChange);\n    window.addEventListener(\"focus\", handleFocus);\n    window.addEventListener(\"blur\", handleBlur);\n\n    return () => {\n      try {\n        document.removeEventListener(\"visibilitychange\", handleVisibilityChange);\n        window.removeEventListener(\"focus\", handleFocus);\n        window.removeEventListener(\"blur\", handleBlur);\n      } catch (cleanupErr) {\n        reportError(\n          \"VISIBILITY_CLEANUP_FAIL\",\n          cleanupErr.message || \"Failed to remove event listeners\",\n          { function: \"useEffect cleanup\" },\n          \"warning\",\n          null,\n          \"\"\n        );\n      }\n    };\n  }, [currentDeviceId, ws]);\n\n  const processColorInfo = (colorString) => {\n    try {\n      let mode = \"\";\n      let colorValue = \"\";\n\n      if (colorString && colorString.includes(\"-\")) {\n        if (colorString.includes(\"color-\")) {\n          mode = \"Color\";\n          colorValue = colorString.substring(6, 15);\n        } else if (colorString.includes(\"gradient-\")) {\n          mode = \"Gradient\";\n          colorValue = colorString.substring(9, 18);\n        } else if (colorString.includes(\"fade-\")) {\n          mode = \"Fade\";\n          colorValue = colorString.substring(5, 14);\n        } else if (colorString.includes(\"pulsating-\")) {\n          mode = \"Pulsating\";\n          colorValue = colorString.substring(10, 19);\n        } else if (colorString.includes(\"twinkle-\")) {\n          mode = \"Soft Twinkle\";\n          colorValue = colorString.substring(8, 17);\n        } else {\n          reportError(\n            \"UNKNOWN_COLOR_FORMAT\",\n            \"Unrecognized color format pattern\",\n            { input: colorString },\n            \"warning\",\n            \"colorString\",\n            colorString\n          );\n        }\n      } else {\n        switch (colorString) {\n          case \"Color Wave\":\n          case \"Rainbow\":\n          case \"Warm Sunset\":\n          case \"Off\":\n            mode = colorString;\n            colorValue = deviceData?.color;\n            break;\n          default:\n            if (!colorString) {\n              reportError(\n                \"EMPTY_COLOR_STRING\",\n                \"Color string was empty or undefined\",\n                { input: colorString },\n                \"warning\",\n                \"colorString\",\n                \"empty\"\n              );\n            }\n            mode = colorString || deviceData?.mode;\n            colorValue = deviceData?.color;\n        }\n      }\n\n      // Validate colorValue before parsing\n      if (!colorValue || typeof colorValue !== \"string\") {\n        reportError(\n          \"INVALID_COLOR_VALUE\",\n          \"Color value missing or invalid\",\n          { function: \"processColorInfo\", input: colorString },\n          \"error\",\n          \"colorValue\",\n          String(colorValue)\n        );\n        colorValue = \"#000000\"; // fallback to black\n      }\n\n      // Try deformatRGB safely\n      let result;\n      try {\n        result = deformatRGB(colorValue);\n      } catch (rgbErr) {\n        reportError(\n          \"RGB_PARSE_FAIL\",\n          rgbErr.message || \"Failed to parse RGB value\",\n          { function: \"processColorInfo\", colorValue },\n          \"error\",\n          \"colorValue\",\n          colorValue\n        );\n        result = { r: 0, g: 0, b: 0 };\n      }\n\n      return { mode, color: result };\n    } catch (err) {\n      reportError(\n        \"COLOR_INFO_FAIL\",\n        err.message || \"Unexpected error processing color info\",\n        { function: \"processColorInfo\" },\n        \"error\",\n        \"input\",\n        colorString\n      );\n      return { mode: \"Unknown\", color: { r: 0, g: 0, b: 0 } };\n    }\n  };\n\n  const parseRgb = (rgbStr) => {\n  try {\n    if (typeof rgbStr !== \"string\") {\n      reportError(\n        \"PARSE_RGB_INVALID_TYPE\",\n        \"RGB input is not a string\",\n        { input: rgbStr },\n        \"error\",\n        \"rgbStr\",\n        String(rgbStr)\n      );\n      return { r: 255, g: 0, b: 0 };\n    }\n\n    const match = rgbStr.match(/(\\d+),\\s*(\\d+),\\s*(\\d+)/);\n    if (match) {\n      return {\n        r: parseInt(match[1]),\n        g: parseInt(match[2]),\n        b: parseInt(match[3]),\n      };\n    } else {\n      reportError(\n        \"PARSE_RGB_NO_MATCH\",\n        \"RGB string did not match expected format\",\n        { input: rgbStr },\n        \"warning\",\n        \"rgbStr\",\n        rgbStr\n      );\n      return { r: 255, g: 0, b: 0 };\n    }\n  } catch (err) {\n    reportError(\n      \"PARSE_RGB_FAIL\",\n      err.message || \"Failed to parse RGB string\",\n      { function: \"parseRgb\", input: rgbStr },\n      \"error\",\n      \"rgbStr\",\n      rgbStr\n    );\n    return { r: 255, g: 0, b: 0 };\n  }\n  };\n\n  function deformatRGB(paddedRGBString) {\n    try {\n      if (typeof paddedRGBString !== \"string\" || !/^\\d{9}$/.test(paddedRGBString)) {\n        reportError(\n          \"DEFORMAT_RGB_INVALID_INPUT\",\n          \"Input must be a 9-digit string consisting only of digits\",\n          { input: paddedRGBString },\n          \"error\",\n          \"paddedRGBString\",\n          String(paddedRGBString)\n        );\n        throw new Error(\"Invalid padded RGB string\");\n      }\n\n      const r = parseInt(paddedRGBString.slice(0, 3), 10);\n      const g = parseInt(paddedRGBString.slice(3, 6), 10);\n      const b = parseInt(paddedRGBString.slice(6, 9), 10);\n\n      return `rgb(${r}, ${g}, ${b})`;\n    } catch (err) {\n      reportError(\n        \"DEFORMAT_RGB_FAIL\",\n        err.message || \"Failed to deformat RGB\",\n        { function: \"deformatRGB\", input: paddedRGBString },\n        \"error\",\n        \"paddedRGBString\",\n        String(paddedRGBString)\n      );\n      return \"rgb(0, 0, 0)\";\n    }\n  }\n\n  const getComplementaryColor = (rgbStr) => {\n    try {\n      const { r, g, b } = parseRgb(rgbStr);\n      if (\n        typeof r !== \"number\" ||\n        typeof g !== \"number\" ||\n        typeof b !== \"number\" ||\n        [r, g, b].some((v) => v < 0 || v > 255)\n      ) {\n        reportError(\n          \"COMPLEMENTARY_RGB_INVALID\",\n          \"Invalid RGB values detected\",\n          { input: rgbStr },\n          \"warning\",\n          \"rgbStr\",\n          rgbStr\n        );\n        return \"rgb(255, 255, 255)\";\n      }\n      return `rgb(${255 - r}, ${255 - g}, ${255 - b})`;\n    } catch (err) {\n      reportError(\n        \"COMPLEMENTARY_FAIL\",\n        err.message || \"Failed to compute complementary color\",\n        { function: \"getComplementaryColor\", input: rgbStr },\n        \"error\",\n        \"rgbStr\",\n        rgbStr\n      );\n      return \"rgb(255, 255, 255)\";\n    }\n  };\n\n  function formatRGB(rgbString) {\n    try {\n      if (typeof rgbString !== \"string\") {\n        reportError(\n          \"FORMAT_RGB_INVALID_TYPE\",\n          \"RGB input is not a string\",\n          { input: rgbString },\n          \"error\",\n          \"rgbString\",\n          String(rgbString)\n        );\n        return \"000000000\";\n      }\n\n      const match = rgbString.match(/\\d+/g);\n      if (!match || match.length < 3) {\n        reportError(\n          \"FORMAT_RGB_NO_MATCH\",\n          \"RGB string missing numeric components\",\n          { input: rgbString },\n          \"error\",\n          \"rgbString\",\n          rgbString\n        );\n        return \"000000000\";\n      }\n\n      const [r, g, b] = match.map(Number);\n      const formatted = [r, g, b]\n        .map((n) => n.toString().padStart(3, \"0\"))\n        .join(\"\");\n\n      return formatted;\n    } catch (err) {\n      reportError(\n        \"FORMAT_RGB_FAIL\",\n        err.message || \"Failed to format RGB string\",\n        { function: \"formatRGB\", input: rgbString },\n        \"error\",\n        \"rgbString\",\n        rgbString\n      );\n      return \"000000000\";\n    }\n  }\n\n  const debouncedSendCommand = (commandType, commandFunc, valueToCheck) => {\n    if (timerRefs.current[commandType]) {\n      clearTimeout(timerRefs.current[commandType]);\n    }\n\n    timerRefs.current[commandType] = setTimeout(() => {\n      if (ws && ws.readyState === WebSocket.OPEN) {\n        try {\n          const command = commandFunc();\n          ws.send(command);\n        } catch (err) {\n          reportError(\n            \"DEBOUNCED_COMMAND_FAIL\",\n            err.message || \"Failed to send debounced command\",\n            { function: \"debouncedSendCommand\", commandType },\n            \"error\",\n            \"commandType\",\n            commandType\n          );\n        }\n      } else {\n        console.log(\"WebSocket is not open, cannot send command\");\n      }\n      timerRefs.current[commandType] = null;\n    }, DEBOUNCE_DELAY);\n  };\n\n  const sanitizeBrightness = (value) => {\n    try {\n      let num = parseInt(String(value).replace(/\\D/g, \"\"), 10);\n      if (isNaN(num)) {\n        reportError(\n          \"BRIGHTNESS_INVALID\",\n          \"Brightness value was not numeric\",\n          { input: value },\n          \"warning\",\n          \"brightness\",\n          String(value)\n        );\n        num = 1;\n      }\n      return Math.min(Math.max(num, 1), 255);\n    } catch (err) {\n      reportError(\n        \"BRIGHTNESS_SANITIZE_FAIL\",\n        err.message || \"Failed to sanitize brightness\",\n        { input: value },\n        \"error\",\n        \"brightness\",\n        String(value)\n      );\n      return 1;\n    }\n  };\n\n  const sanitizeTarget = (value) => {\n    try {\n      let num = parseFloat(String(value).replace(/[^\\d.]/g, \"\"));\n      if (isNaN(num)) {\n        reportError(\n          \"TARGET_INVALID\",\n          \"Target value was not numeric\",\n          { input: value },\n          \"warning\",\n          \"target\",\n          String(value)\n        );\n        num = 25;\n      }\n      return Math.min(Math.max(num, 25), 80);\n    } catch (err) {\n      reportError(\n        \"TARGET_SANITIZE_FAIL\",\n        err.message || \"Failed to sanitize target\",\n        { input: value },\n        \"error\",\n        \"target\",\n        String(value)\n      );\n      return 25;\n    }\n  };\n\n  const logDeviceDataChanges = (newData, oldData) => {\n    try {\n      console.log(\"Device data change detected\");\n      if (isInitialLoadRef.current) return;\n      if (!hasReceivedServerDataRef.current) return;\n      if (skipNextChangeRef.current) {\n        skipNextChangeRef.current = false;\n        return;\n      }\n\n      console.log(\"Processing device data changes\");\n      console.log(\"Old data:\", oldData);\n      console.log(\"New data:\", newData);\n\n      Object.keys(newData).forEach((key) => {\n        try {\n          if (JSON.stringify(newData[key]) !== JSON.stringify(oldData[key])) {\n            switch (key) {\n              case \"status\": {\n                try {\n                  const newStatus = newData.status?.toLowerCase?.();\n                  if (!newStatus) {\n                    reportError(\n                      \"STATUS_INVALID\",\n                      \"Status value is missing or invalid\",\n                      { newData, key },\n                      \"warning\",\n                      \"status\",\n                      String(newData.status)\n                    );\n                    return;\n                  }\n                  debouncedSendCommand(\n                    \"status\",\n                    () => \"UPDATE_STATUS:\" + currentDeviceId + \":\" + newStatus,\n                    newStatus\n                  );\n                } catch (err) {\n                  reportError(\n                    \"STATUS_UPDATE_FAIL\",\n                    err.message || \"Failed to update device status\",\n                    { function: \"logDeviceDataChanges\", key },\n                    \"error\",\n                    \"status\",\n                    String(newData.status)\n                  );\n                }\n                break;\n              }\n\n              case \"targetHumidity\": {\n                try {\n                  const targetHumidity = sanitizeTarget(newData.targetHumidity);\n                  debouncedSendCommand(\n                    \"targetHumidity\",\n                    () =>\n                      \"UPDATE_TARGET:\" +\n                      currentDeviceId +\n                      \":\" +\n                      targetHumidity,\n                    targetHumidity\n                  );\n                } catch (err) {\n                  reportError(\n                    \"TARGET_HUMIDITY_FAIL\",\n                    err.message || \"Failed to update target humidity\",\n                    { key, newData },\n                    \"error\",\n                    \"targetHumidity\",\n                    String(newData.targetHumidity)\n                  );\n                }\n                break;\n              }\n\n              case \"controlMode\": {\n                try {\n                  const controlMode = newData.controlMode;\n                  if (!controlMode) {\n                    reportError(\n                      \"CONTROL_MODE_INVALID\",\n                      \"Control mode value missing or invalid\",\n                      { newData },\n                      \"warning\",\n                      \"controlMode\",\n                      String(controlMode)\n                    );\n                    return;\n                  }\n                  debouncedSendCommand(\n                    \"controlMode\",\n                    () =>\n                      \"UPDATE_CONTROL_MODE:\" +\n                      currentDeviceId +\n                      \":\" +\n                      controlMode,\n                    controlMode\n                  );\n                } catch (err) {\n                  reportError(\n                    \"CONTROL_MODE_FAIL\",\n                    err.message || \"Failed to update control mode\",\n                    { key, newData },\n                    \"error\",\n                    \"controlMode\",\n                    String(newData.controlMode)\n                  );\n                }\n                break;\n              }\n\n              case \"timerActive\": {\n                try {\n                  if (newData.timerActive === true) {\n                    const totalTime = newData.timer * 1000;\n                    if (isNaN(totalTime) || totalTime <= 0) {\n                      reportError(\n                        \"TIMER_INVALID\",\n                        \"Invalid timer value\",\n                        { newData },\n                        \"warning\",\n                        \"timer\",\n                        String(newData.timer)\n                      );\n                      return;\n                    }\n                    debouncedSendCommand(\n                      \"timer\",\n                      () => \"UPDATE_TIMER:\" + currentDeviceId + \":\" + totalTime,\n                      totalTime\n                    );\n                  } else {\n                    debouncedSendCommand(\n                      \"timer\",\n                      () => \"UPDATE_TIMER:\" + currentDeviceId + \":cancel\",\n                      \"cancel\"\n                    );\n                  }\n                } catch (err) {\n                  reportError(\n                    \"TIMER_UPDATE_FAIL\",\n                    err.message || \"Failed to update timer state\",\n                    { key, newData },\n                    \"error\",\n                    \"timerActive\",\n                    String(newData.timerActive)\n                  );\n                }\n                break;\n              }\n\n              case \"brightness\": {\n                try {\n                  const brightness = sanitizeBrightness(newData.brightness);\n                  debouncedSendCommand(\n                    \"brightness\",\n                    () =>\n                      \"UPDATE_BRIGHTNESS:\" +\n                      currentDeviceId +\n                      \":\" +\n                      brightness,\n                    brightness\n                  );\n                } catch (err) {\n                  reportError(\n                    \"BRIGHTNESS_UPDATE_FAIL\",\n                    err.message || \"Failed to update brightness\",\n                    { key, newData },\n                    \"error\",\n                    \"brightness\",\n                    String(newData.brightness)\n                  );\n                }\n                break;\n              }\n\n              case \"mode\":\n              case \"color\": {\n                try {\n                  let modeColorKey;\n                  let command;\n\n                  if (\n                    [\"Color\", \"Fade\", \"Soft Twinkle\", \"Pulsating\"].includes(\n                      newData.mode\n                    )\n                  ) {\n                    modeColorKey = `${newData.mode}-${newData.color}`;\n                    const formatted = formatRGB(newData.color);\n                    switch (newData.mode) {\n                      case \"Color\":\n                        command =\n                          \"UPDATE_COLOR:\" +\n                          currentDeviceId +\n                          \":color-\" +\n                          formatted;\n                        break;\n                      case \"Fade\":\n                        command =\n                          \"UPDATE_COLOR:\" +\n                          currentDeviceId +\n                          \":fade-\" +\n                          formatted;\n                        break;\n                      case \"Soft Twinkle\":\n                        command =\n                          \"UPDATE_COLOR:\" +\n                          currentDeviceId +\n                          \":twinkle-\" +\n                          formatted;\n                        break;\n                      case \"Pulsating\":\n                        command =\n                          \"UPDATE_COLOR:\" +\n                          currentDeviceId +\n                          \":pulsating-\" +\n                          formatted;\n                        break;\n                      default:\n                        reportError(\n                          \"UNKNOWN_COLOR_MODE\",\n                          \"Unsupported color mode\",\n                          { newData },\n                          \"warning\",\n                          \"mode\",\n                          newData.mode\n                        );\n                        return;\n                    }\n                  } else if (newData.mode === \"Glowing Gradient\") {\n                    const formatted = formatRGB(newData.color);\n                    const comp = formatRGB(\n                      getComplementaryColor(newData.color)\n                    );\n                    modeColorKey = `Gradient-${newData.color}`;\n                    command =\n                      \"UPDATE_COLOR:\" +\n                      currentDeviceId +\n                      \":gradient-\" +\n                      formatted +\n                      \"-\" +\n                      comp;\n                  } else {\n                    modeColorKey = newData.mode;\n                    command =\n                      \"UPDATE_COLOR:\" + currentDeviceId + \":\" + newData.mode;\n                  }\n\n                  debouncedSendCommand(\"colorMode\", () => command, modeColorKey);\n                } catch (err) {\n                  reportError(\n                    \"COLOR_MODE_FAIL\",\n                    err.message || \"Failed to update color/mode\",\n                    { newData },\n                    \"error\",\n                    \"mode\",\n                    newData.mode\n                  );\n                }\n                break;\n              }\n\n              default:\n                break;\n            }\n          }\n        } catch (keyErr) {\n          reportError(\n            \"DATA_CHANGE_KEY_FAIL\",\n            keyErr.message || \"Error processing specific device key\",\n            { key, newData },\n            \"error\",\n            \"key\",\n            key\n          );\n        }\n      });\n    } catch (err) {\n      reportError(\n        \"DEVICE_DATA_CHANGE_FAIL\",\n        err.message || \"Unexpected failure while processing device data changes\",\n        { newData, oldData },\n        \"error\",\n        \"deviceData\",\n        \"\"\n      );\n    }\n  };\n\n  useEffect(() => {\n    try {\n      logDeviceDataChanges(deviceData, prevDeviceDataRef.current);\n      console.log(\"Current device data:\", deviceData);\n      prevDeviceDataRef.current = { ...deviceData };\n    } catch (err) {\n      reportError(\n        \"DEVICE_DATA_EFFECT_FAIL\",\n        err.message || \"Error running device data effect\",\n        { deviceData },\n        \"error\",\n        \"deviceData\",\n        \"\"\n      );\n    }\n  }, [deviceData]);\n\n  useEffect(() => {\n    return () => {\n      try {\n        Object.values(timerRefs.current).forEach((timer) => {\n          if (timer) clearTimeout(timer);\n        });\n        stopPingInterval();\n        if (reconnectTimeoutRef.current) {\n          clearTimeout(reconnectTimeoutRef.current);\n        }\n      } catch (err) {\n        reportError(\n          \"DEVICE_EFFECT_CLEANUP_FAIL\",\n          err.message || \"Failed during cleanup of device effect\",\n          {},\n          \"warning\",\n          null,\n          \"\"\n        );\n      }\n    };\n  }, []);\n\n  const connectToDevice = (deviceId) => {\n    try {\n      autoReconnectRef.current = true;\n\n      if (reconnectTimeoutRef.current) {\n        clearTimeout(reconnectTimeoutRef.current);\n        reconnectTimeoutRef.current = null;\n      }\n\n      if (ws) {\n        ws.close();\n      }\n\n      stopPingInterval();\n      isInitialLoadRef.current = true;\n      hasReceivedServerDataRef.current = false;\n      skipNextChangeRef.current = false;\n\n      Object.keys(timerRefs.current).forEach((key) => {\n        if (timerRefs.current[key]) {\n          clearTimeout(timerRefs.current[key]);\n          timerRefs.current[key] = null;\n        }\n      });\n\n      if (!deviceId) {\n        reportError(\n          \"DEVICE_ID_MISSING\",\n          \"Attempted to connect without valid deviceId\",\n          {},\n          \"error\",\n          \"deviceId\",\n          String(deviceId)\n        );\n        return;\n      }\n\n      setCurrentDeviceId(deviceId);\n      console.log(`Connecting to device ${deviceId} (attempt ${connectionAttemptRef.current + 1})`);\n\n      const socketUrl = `wss://simple-api.mistify.lv/ws/app?deviceId=${deviceId}`;\n      let socket;\n      try {\n        socket = new WebSocket(socketUrl);\n      } catch (err) {\n        reportError(\n          \"WS_INIT_FAIL\",\n          err.message || \"Failed to initialize WebSocket\",\n          { socketUrl },\n          \"error\",\n          \"deviceId\",\n          String(deviceId)\n        );\n        return;\n      }\n\n      socket.onopen = () => {\n        try {\n          console.log(\"WebSocket connected successfully\");\n          connectionAttemptRef.current = 0;\n          setDeviceData((prev) => ({ ...prev, isConnected: true }));\n          if (document.visibilityState === \"visible\") startPingInterval();\n        } catch (err) {\n          reportError(\n            \"WS_ONOPEN_FAIL\",\n            err.message || \"Error during onopen handler\",\n            { deviceId },\n            \"error\",\n            \"deviceId\",\n            String(deviceId)\n          );\n        }\n      };\n\n      socket.onmessage = (event) => {\n        try {\n          const message = event.data;\n\n          if (!message || typeof message !== \"string\") {\n            reportError(\n              \"WS_INVALID_MESSAGE\",\n              \"Received empty or invalid message\",\n              { event },\n              \"warning\",\n              \"message\",\n              String(message)\n            );\n            return;\n          }\n\n          if (message.startsWith(\"PONG:\")) {\n            if (heartbeatTimeoutRef.current) {\n              clearTimeout(heartbeatTimeoutRef.current);\n              heartbeatTimeoutRef.current = null;\n            }\n            return;\n          }\n\n          if (heartbeatTimeoutRef.current) {\n            clearTimeout(heartbeatTimeoutRef.current);\n            heartbeatTimeoutRef.current = null;\n          }\n\n          if (!hasReceivedServerDataRef.current) {\n            hasReceivedServerDataRef.current = true;\n            isInitialLoadRef.current = false;\n            skipNextChangeRef.current = true;\n            console.log(\"First server data received, enabling change tracking after next update\");\n          }\n\n          if (message.startsWith(\"UPDATE_TEMPERATURE:\")) {\n            const parts = message.split(\":\");\n            if (parts.length === 3 && parts[1] === deviceId) {\n              const temperature = parseFloat(parts[2]);\n              if (isNaN(temperature)) {\n                reportError(\n                  \"TEMP_PARSE_FAIL\",\n                  \"Invalid temperature format in message\",\n                  { message },\n                  \"warning\",\n                  \"temperature\",\n                  parts[2]\n                );\n                return;\n              }\n              setDeviceData((prev) => ({ ...prev, temperature }));\n            }\n          } else if (message.startsWith(\"UPDATE_HUMIDITY:\")) {\n            const parts = message.split(\":\");\n            if (parts.length === 3 && parts[1] === deviceId) {\n              const humidity = parseFloat(parts[2]);\n              if (isNaN(humidity)) {\n                reportError(\n                  \"HUMIDITY_PARSE_FAIL\",\n                  \"Invalid humidity value in message\",\n                  { message },\n                  \"warning\",\n                  \"humidity\",\n                  parts[2]\n                );\n                return;\n              }\n              setDeviceData((prev) => ({ ...prev, humidity }));\n            }\n          } else if (message.startsWith(\"LID_STATUS:\")) {\n            const parts = message.split(\":\");\n            if (parts.length === 3 && parts[1] === deviceId) {\n              const lidStatus = parts[2];\n              setDeviceData((prev) => ({ ...prev, lidStatus }));\n            }\n          } else if (message.startsWith(\"TIMER:\")) {\n            const parts = message.split(\":\");\n            if (parts.length === 3 && parts[1] === deviceId) {\n              const status = parts[2] === \"on\" ? \"On\" : \"Off\";\n              setDeviceData((prev) => ({ ...prev, status }));\n            }\n          } else if (message.startsWith(\"{\")) {\n            let deviceInfo;\n            try {\n              deviceInfo = JSON.parse(message);\n            } catch (err) {\n              reportError(\n                \"JSON_PARSE_FAIL\",\n                err.message || \"Failed to parse JSON from device\",\n                { message },\n                \"error\",\n                \"message\",\n                message.slice(0, 50)\n              );\n              return;\n            }\n\n            const colorInfo = processColorInfo(deviceInfo.color || \"\");\n            const newStatus =\n              deviceInfo.status === \"on\" || deviceInfo.status === \"On\" ? \"On\" : \"Off\";\n\n            let serverTime = null;\n            let expiryTime = null;\n            if (typeof deviceInfo.timer === \"string\" && deviceInfo.timer.includes(\",\")) {\n              const parts = deviceInfo.timer.split(\",\").map((t) => parseInt(t.trim(), 10));\n              if (parts.length === 2 && parts.every((n) => !isNaN(n))) {\n                [serverTime, expiryTime] = parts;\n              } else {\n                reportError(\n                  \"TIMER_PARSE_FAIL\",\n                  \"Invalid timer format from device\",\n                  { timer: deviceInfo.timer },\n                  \"warning\",\n                  \"timer\",\n                  deviceInfo.timer\n                );\n              }\n            }\n\n            const remainingMs =\n              expiryTime !== null && serverTime !== null\n                ? Math.round((expiryTime - serverTime) / 1000)\n                : null;\n\n            setDeviceData((prev) => ({\n              ...prev,\n              id: deviceInfo.id || prev.id,\n              name: deviceInfo.name || prev.name,\n              status: newStatus,\n              brightness:\n                typeof deviceInfo.brightness === \"number\"\n                  ? deviceInfo.brightness\n                  : prev.brightness,\n              temperature:\n                typeof deviceInfo.temperature === \"number\"\n                  ? deviceInfo.temperature\n                  : prev.temperature,\n              humidity:\n                typeof deviceInfo.humidity === \"number\"\n                  ? deviceInfo.humidity\n                  : prev.humidity,\n              targetHumidity:\n                typeof deviceInfo.target === \"number\"\n                  ? deviceInfo.target\n                  : prev.targetHumidity,\n              controlMode: deviceInfo.control_mode || prev.mode,\n              lidStatus: deviceInfo.lidStatus || prev.lidStatus,\n              mode: colorInfo.mode || prev.mode,\n              color: colorInfo.color || prev.color,\n              vicinity: deviceInfo.vicinity || prev.vicinity,\n              timer: remainingMs || prev.timer,\n            }));\n          } else {\n            reportError(\n              \"UNKNOWN_MESSAGE_TYPE\",\n              \"Received unknown message format\",\n              { message },\n              \"info\",\n              \"message\",\n              message.slice(0, 50)\n            );\n          }\n        } catch (err) {\n          reportError(\n            \"MESSAGE_PROCESS_FAIL\",\n            err.message || \"Unhandled error while processing message\",\n            { data: event.data },\n            \"error\",\n            \"message\",\n            String(event.data).slice(0, 50)\n          );\n        }\n      };\n\n      socket.onerror = (error) => {\n        console.error(\"WebSocket Error:\", error);\n        stopPingInterval();\n        setDeviceData((prev) => ({ ...prev, isConnected: false }));\n        if (autoReconnectRef.current) handleReconnect(deviceId);\n      };\n\n      socket.onclose = (event) => {\n        console.log(`WebSocket Close: Code ${event.code}, Reason: ${event.reason || \"Unknown\"}`);\n        stopPingInterval();\n        setDeviceData((prev) => ({ ...prev, isConnected: false }));\n        if (autoReconnectRef.current && [1006, 1000, 1001, 1005].includes(event.code)) {\n          handleReconnect(deviceId);\n        }\n      };\n\n      setWs(socket);\n    } catch (err) {\n      reportError(\n        \"DEVICE_CONNECT_FAIL\",\n        err.message || \"Unhandled failure in connectToDevice\",\n        { deviceId },\n        \"error\",\n        \"deviceId\",\n        String(deviceId)\n      );\n    }\n  };\n\n  const sendCommand = (command, data = {}) => {\n    try {\n      if (ws && deviceData.isConnected && currentDeviceId) {\n        const message = JSON.stringify({\n          command,\n          deviceId: currentDeviceId,\n          ...data\n        });\n        ws.send(message);\n      } else {\n        console.error(\"Cannot send command - WebSocket not connected\");\n        reportError(\n          \"COMMAND_SEND_BLOCKED\",\n          \"Attempted to send command while not connected\",\n          { command, data },\n          \"warning\",\n          \"command\",\n          command\n        );\n      }\n    } catch (err) {\n      reportError(\n        \"COMMAND_SEND_FAIL\",\n        err.message || \"Failed to send command\",\n        { command, data },\n        \"error\",\n        \"command\",\n        command\n      );\n    }\n  };\n\n  useEffect(() => {\n    try {\n      let interval = null;\n      if (isActive && timeLeft > 0) {\n        interval = setInterval(() => {\n          setTimeLeft((timeLeft) => {\n            try {\n              const newTime = timeLeft - 1;\n              if (newTime <= 0) {\n                showGlobalToast(\"Timer finished!\");\n                setIsActive(false);\n                return 0;\n              }\n              return newTime;\n            } catch (err) {\n              reportError(\n                \"TIMER_INTERVAL_FAIL\",\n                err.message || \"Error updating countdown timer\",\n                {},\n                \"error\",\n                \"timeLeft\",\n                String(timeLeft)\n              );\n              return timeLeft;\n            }\n          });\n        }, 1000);\n      } else if (!isActive) {\n        clearInterval(interval);\n      }\n      return () => clearInterval(interval);\n    } catch (err) {\n      reportError(\n        \"TIMER_EFFECT_FAIL\",\n        err.message || \"Timer useEffect encountered an error\",\n        {},\n        \"error\",\n        \"timer\",\n        \"\"\n      );\n    }\n  }, [isActive, timeLeft, setDeviceData]);\n\n  const disconnect = () => {\n    try {\n      console.log(\"Manually disconnecting WebSocket\");\n      autoReconnectRef.current = false;\n      connectionAttemptRef.current = 0;\n\n      stopPingInterval();\n\n      if (reconnectTimeoutRef.current) {\n        clearTimeout(reconnectTimeoutRef.current);\n        reconnectTimeoutRef.current = null;\n      }\n\n      Object.keys(timerRefs.current).forEach((key) => {\n        if (timerRefs.current[key]) {\n          clearTimeout(timerRefs.current[key]);\n          timerRefs.current[key] = null;\n        }\n      });\n\n      if (ws) {\n        ws.close();\n        setWs(null);\n        setDeviceData((prev) => ({ ...prev, isConnected: false }));\n        setCurrentDeviceId(null);\n      } else {\n        reportError(\n          \"DISCONNECT_NO_SOCKET\",\n          \"Attempted to disconnect but WebSocket is not initialized\",\n          {},\n          \"warning\",\n          \"ws\",\n          \"null\"\n        );\n      }\n    } catch (err) {\n      reportError(\n        \"DISCONNECT_FAIL\",\n        err.message || \"Unexpected failure during manual disconnect\",\n        {},\n        \"error\",\n        \"ws\",\n        \"disconnect\"\n      );\n    }\n  };\n\n  const forceReconnect = () => {\n    try {\n      if (currentDeviceId) {\n        console.log(\"Force reconnecting...\");\n        connectionAttemptRef.current = 0;\n        connectToDevice(currentDeviceId);\n      } else {\n        reportError(\n          \"FORCE_RECONNECT_NO_DEVICE\",\n          \"Cannot force reconnect without currentDeviceId\",\n          {},\n          \"warning\",\n          \"deviceId\",\n          \"\"\n        );\n      }\n    } catch (err) {\n      reportError(\n        \"FORCE_RECONNECT_FAIL\",\n        err.message || \"Error during force reconnect attempt\",\n        {},\n        \"error\",\n        \"deviceId\",\n        String(currentDeviceId)\n      );\n    }\n  };\n\n  return (\n    <DeviceContext.Provider\n      value={{\n        deviceData,\n        setDeviceData,\n        connectToDevice,\n        sendCommand,\n        disconnect,\n        forceReconnect,\n        currentDeviceId,\n        timeLeft,\n        setTimeLeft,\n        isActive,\n        setIsActive\n      }}\n    >\n      {children}\n    </DeviceContext.Provider>\n  );\n};\n\nexport const useDevice = () => useContext(DeviceContext);\n\nexport const DeviceManagerConnection = ({ deviceId }) => {\n  const { connectToDevice, currentDeviceId } = useDevice();\n  \n  useEffect(() => {\n    if (deviceId && deviceId !== currentDeviceId) {\n      connectToDevice(deviceId);\n    }\n  }, [deviceId, currentDeviceId, connectToDevice]);\n\n  return null;\n};\n"],"names":[],"mappings":";;;;;;AAAA;;;;AAEA,MAAM,8BAAgB,CAAA,GAAA,6JAAA,CAAA,gBAAa,AAAD;AAE3B,MAAM,iBAAiB,CAAC,EAAE,QAAQ,EAAE;;IACzC,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;QAC3C,UAAU;QACV,aAAa;QACb,QAAQ;QACR,gBAAgB;QAChB,OAAO;QACP,aAAa;QACb,YAAY;QACZ,OAAO;QACP,aAAa;QACb,MAAM;QACN,WAAW;QACX,OAAO;QACP,QAAQ;QACR,aAAa;IACf;IAEA,MAAM,CAAC,IAAI,MAAM,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC7B,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEvD,MAAM,mBAAmB,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAE;IAChC,MAAM,kBAAkB,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAE;IAC/B,MAAM,sBAAsB,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAE;IACnC,MAAM,sBAAsB,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAE;IACnC,MAAM,uBAAuB,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAE;IAEpC,MAAM,2BAA2B,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAE;IACxC,MAAM,mBAAmB,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAE;IAChC,MAAM,oBAAoB,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAE;IAEjC,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEzC,MAAM,oBAAoB,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAE;IAEjC,MAAM,YAAY,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAE;QACvB,QAAQ;QACR,gBAAgB;QAChB,OAAO;QACP,YAAY;QACZ,WAAW;IACb;IAEA,MAAM,iBAAiB;IACvB,MAAM,gBAAgB,OAAO,aAAa;IAC1C,MAAM,oBAAoB,OAAO,kCAAkC;IACnE,MAAM,mBAAmB;QAAC;QAAK;QAAM;QAAM;QAAM;QAAO;KAAM,EAAE,2BAA2B;IAC3F,MAAM,aAAa,CAAC,GAAG,iCAAiC;IACxD,MAAM,kBAAkB;IAExB,SAAS,YAAY,SAAS,EAAE,YAAY,EAAE,OAAO,EAAE,QAAQ,EAAE,OAAO,EAAE,QAAQ;QAChF,MAAM,MAAM,KAAK,GAAG;QACpB,IAAI,MAAM;QACV,IAAI,SAAS,OAAO,CAAC,CAAC,EAAE,SAAS;QAEjC,+DAA+D;QAC/D,MAAM,OAAO,UAAU,CAAC,IAAI;QAC5B,IAAI,QAAQ,MAAM,KAAK,cAAc,GAAG,mBAAmB,KAAK,SAAS,KAAK,UAAU;YACtF,QAAQ,GAAG,CAAC,+BAA+B;YAC3C;QACF;QAEA,0BAA0B;QAC1B,MAAM,MAAM;YACV,MAAM;YACN;YACA,YAAY;YACZ,WAAW,KAAK,KAAK,CAAC,MAAM;YAC5B;QACF;QAEA,IAAI,gBAAgB,aAAa,MAAM,GAAG,IAAI;YAC5C,IAAI,aAAa,GAAG;QACtB;QAEA,IAAI,SAAS;YACX,IAAI,QAAQ,GAAG;gBACb,MAAM;gBACN,OAAO;YACT;QACF;QAEA,IAAI,WAAW,OAAO,YAAY,UAAU;YAC1C,IAAI,OAAO,GAAG;QAChB;QAEA,MAAM,UAAU,KAAK,SAAS,CAAC;QAC/B,MAAM,UAAU,CAAC,aAAa,EAAE,gBAAgB,CAAC,EAAE,SAAS;QAE5D,2CAA2C;QAC3C,qBAAqB,gBAAgB,IAAM,SAAS;QAEpD,QAAQ,GAAG,CAAC,mBAAmB;QAE/B,eAAe;QACf,UAAU,CAAC,IAAI,GAAG;YAChB,gBAAgB;YAChB,WAAW;QACb;IACF;IAEA,MAAM,iBAAiB;QACrB,IAAI;YACF,IAAI,oBAAoB,OAAO,EAAE;gBAC/B,aAAa,oBAAoB,OAAO;YAC1C;YAEA,oBAAoB,OAAO,GAAG,WAAW;gBACvC,QAAQ,IAAI,CAAC;gBACb,YACE,qBACA,0CACA;oBAAE,SAAS;gBAAoB,GAC/B,WACA,qBACA;gBAGF,IAAI,IAAI;oBACN,GAAG,KAAK,IAAI,qCAAqC;gBACnD;YACF,GAAG;QACL,EAAE,OAAO,KAAK;YACZ,YACE,wBACA,IAAI,OAAO,IAAI,6BACf;gBAAE,UAAU;YAAiB,GAC7B,SACA,MACA;QAEJ;IACF;IAEA,MAAM,oBAAoB;QACxB,IAAI;YACF,IAAI,gBAAgB,OAAO,EAAE;gBAC3B,cAAc,gBAAgB,OAAO;YACvC;YAEA,gBAAgB,OAAO,GAAG,YAAY;gBACpC,IAAI;oBACF,IAAI,MAAM,GAAG,UAAU,KAAK,UAAU,IAAI,IAAI,iBAAiB;wBAC7D,MAAM,cAAc,CAAC,KAAK,EAAE,iBAAiB;wBAC7C,QAAQ,GAAG,CAAC,iBAAiB;wBAC7B,GAAG,IAAI,CAAC;wBACR;oBACF,OAAO,IAAI,CAAC,iBAAiB;wBAC3B,YACE,qBACA,6CACA;4BAAE,UAAU;wBAAoB,GAChC,SACA,mBACA;oBAEJ;gBACF,EAAE,OAAO,SAAS;oBAChB,IAAI,MAAM,GAAG,UAAU,KAAK,UAAU,IAAI,EAAE;wBAC1C,YACE,kBACA,QAAQ,OAAO,IAAI,uBACnB;4BAAE,UAAU;wBAAoB,GAChC,SACA,aACA;oBAEJ;gBACF;YACF,GAAG;YACH,IAAI,MAAM,GAAG,UAAU,KAAK,UAAU,IAAI,IAAI,iBAAiB;gBAC7D,WAAW;oBACT,IAAI;wBACF,MAAM,cAAc,CAAC,KAAK,EAAE,iBAAiB;wBAC7C,GAAG,IAAI,CAAC;wBACR;oBACF,EAAE,OAAO,KAAK;wBACZ,YACE,qBACA,IAAI,OAAO,IAAI,+BACf;4BAAE,UAAU;wBAAoB,GAChC,SACA,gBACA;oBAEJ;gBACF,GAAG;YACL;QACF,EAAE,OAAO,KAAK;YACZ,YACE,sBACA,IAAI,OAAO,IAAI,iCACf;gBAAE,UAAU;YAAoB,GAChC,SACA,MACA;QAEJ;IACF;IAEA,MAAM,mBAAmB;QACvB,IAAI;YACF,IAAI,gBAAgB,OAAO,EAAE;gBAC3B,cAAc,gBAAgB,OAAO;gBACrC,gBAAgB,OAAO,GAAG;YAC5B;YACA,IAAI,oBAAoB,OAAO,EAAE;gBAC/B,aAAa,oBAAoB,OAAO;gBACxC,oBAAoB,OAAO,GAAG;YAChC;QACF,EAAE,OAAO,KAAK;YACZ,YACE,kBACA,IAAI,OAAO,IAAI,oCACf;gBAAE,UAAU;YAAmB,GAC/B,WACA,MACA;QAEJ;IACF;IAEA,MAAM,kBAAkB,CAAC;QACvB,IAAI;YACF,IAAI,CAAC,iBAAiB,OAAO,EAAE;YAE/B,IAAI,SAAS,eAAe,KAAK,WAAW;gBAC1C,QAAQ,GAAG,CAAC;gBACZ,YACE,kCACA,kDACA;oBAAE,UAAU;gBAAkB,GAC9B,QACA,oBACA,SAAS,eAAe;gBAE1B;YACF;YAEA,MAAM,QACJ,gBAAgB,CAAC,KAAK,GAAG,CAAC,qBAAqB,OAAO,EAAE,iBAAiB,MAAM,GAAG,GAAG;YACvF,QAAQ,GAAG,CACT,CAAC,wBAAwB,EAAE,MAAM,YAAY,EAAE,qBAAqB,OAAO,GAAG,EAAE,CAAC,CAAC;YAGpF,IAAI,oBAAoB,OAAO,EAAE;gBAC/B,aAAa,oBAAoB,OAAO;YAC1C;YAEA,oBAAoB,OAAO,GAAG,WAAW;gBACvC,IAAI;oBACF,qBAAqB,OAAO;oBAC5B,gBAAgB;gBAClB,EAAE,OAAO,KAAK;oBACZ,YACE,kBACA,IAAI,OAAO,IAAI,mCACf;wBAAE,UAAU;oBAAkB,GAC9B,SACA,kBACA,OAAO,qBAAqB,OAAO;gBAEvC;YACF,GAAG;QACL,EAAE,OAAO,KAAK;YACZ,YACE,0BACA,IAAI,OAAO,IAAI,uCACf;gBAAE,UAAU;YAAkB,GAC9B,SACA,MACA;QAEJ;IACF;IAEA,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;oCAAE;YACR,MAAM;mEAAyB;oBAC7B,QAAQ,GAAG,CAAC,4BAA4B,SAAS,eAAe;oBAEhE,IAAI;wBACF,IAAI,SAAS,eAAe,KAAK,aAAa,iBAAiB;4BAC7D,qDAAqD;4BACrD,IAAI,CAAC,MAAM,GAAG,UAAU,KAAK,UAAU,IAAI,EAAE;gCAC3C,QAAQ,GAAG,CACT;gCAEF,qBAAqB,OAAO,GAAG;gCAC/B,gBAAgB;4BAClB,OAAO;gCACL,IAAI;oCACF,MAAM,cAAc,CAAC,KAAK,EAAE,iBAAiB;oCAC7C,GAAG,IAAI,CAAC;oCACR;gCACF,EAAE,OAAO,SAAS;oCAChB,IAAI,MAAM,GAAG,UAAU,KAAK,UAAU,IAAI,EAAE;wCAC1C,YACE,2BACA,QAAQ,OAAO,IAAI,4CACnB;4CAAE,UAAU;wCAAyB,GACrC,SACA,oBACA,SAAS,eAAe;oCAE5B;gCACF;4BACF;wBACF,OAAO,IAAI,SAAS,eAAe,KAAK,UAAU;4BAChD,QAAQ,GAAG,CAAC;4BACZ,IAAI;gCACF;4BACF,EAAE,OAAO,KAAK;gCACZ,YACE,0BACA,IAAI,OAAO,IAAI,wCACf;oCAAE,UAAU;gCAAyB,GACrC,WACA,oBACA;4BAEJ;wBACF;oBACF,EAAE,OAAO,KAAK;wBACZ,YACE,2BACA,IAAI,OAAO,IAAI,8CACf;4BAAE,UAAU;wBAAyB,GACrC,SACA,oBACA,SAAS,eAAe;oBAE5B;gBACF;;YAEA,MAAM;wDAAc;oBAClB,IAAI;wBACF,IAAI,mBAAmB,CAAC,CAAC,MAAM,GAAG,UAAU,KAAK,UAAU,IAAI,GAAG;4BAChE,QAAQ,GAAG,CACT;4BAEF,qBAAqB,OAAO,GAAG;4BAC/B,gBAAgB;wBAClB;oBACF,EAAE,OAAO,KAAK;wBACZ,YACE,sBACA,IAAI,OAAO,IAAI,wBACf;4BAAE,UAAU;wBAAc,GAC1B,SACA,MACA;oBAEJ;gBACF;;YAEA,MAAM;uDAAa;oBACjB,IAAI;wBACF,QAAQ,GAAG,CAAC;oBACZ,qBAAqB;oBACvB,EAAE,OAAO,KAAK;wBACZ,YACE,qBACA,IAAI,OAAO,IAAI,uBACf;4BAAE,UAAU;wBAAa,GACzB,WACA,MACA;oBAEJ;gBACF;;YAEA,SAAS,gBAAgB,CAAC,oBAAoB;YAC9C,OAAO,gBAAgB,CAAC,SAAS;YACjC,OAAO,gBAAgB,CAAC,QAAQ;YAEhC;4CAAO;oBACL,IAAI;wBACF,SAAS,mBAAmB,CAAC,oBAAoB;wBACjD,OAAO,mBAAmB,CAAC,SAAS;wBACpC,OAAO,mBAAmB,CAAC,QAAQ;oBACrC,EAAE,OAAO,YAAY;wBACnB,YACE,2BACA,WAAW,OAAO,IAAI,oCACtB;4BAAE,UAAU;wBAAoB,GAChC,WACA,MACA;oBAEJ;gBACF;;QACF;mCAAG;QAAC;QAAiB;KAAG;IAExB,MAAM,mBAAmB,CAAC;QACxB,IAAI;YACF,IAAI,OAAO;YACX,IAAI,aAAa;YAEjB,IAAI,eAAe,YAAY,QAAQ,CAAC,MAAM;gBAC5C,IAAI,YAAY,QAAQ,CAAC,WAAW;oBAClC,OAAO;oBACP,aAAa,YAAY,SAAS,CAAC,GAAG;gBACxC,OAAO,IAAI,YAAY,QAAQ,CAAC,cAAc;oBAC5C,OAAO;oBACP,aAAa,YAAY,SAAS,CAAC,GAAG;gBACxC,OAAO,IAAI,YAAY,QAAQ,CAAC,UAAU;oBACxC,OAAO;oBACP,aAAa,YAAY,SAAS,CAAC,GAAG;gBACxC,OAAO,IAAI,YAAY,QAAQ,CAAC,eAAe;oBAC7C,OAAO;oBACP,aAAa,YAAY,SAAS,CAAC,IAAI;gBACzC,OAAO,IAAI,YAAY,QAAQ,CAAC,aAAa;oBAC3C,OAAO;oBACP,aAAa,YAAY,SAAS,CAAC,GAAG;gBACxC,OAAO;oBACL,YACE,wBACA,qCACA;wBAAE,OAAO;oBAAY,GACrB,WACA,eACA;gBAEJ;YACF,OAAO;gBACL,OAAQ;oBACN,KAAK;oBACL,KAAK;oBACL,KAAK;oBACL,KAAK;wBACH,OAAO;wBACP,aAAa,YAAY;wBACzB;oBACF;wBACE,IAAI,CAAC,aAAa;4BAChB,YACE,sBACA,uCACA;gCAAE,OAAO;4BAAY,GACrB,WACA,eACA;wBAEJ;wBACA,OAAO,eAAe,YAAY;wBAClC,aAAa,YAAY;gBAC7B;YACF;YAEA,qCAAqC;YACrC,IAAI,CAAC,cAAc,OAAO,eAAe,UAAU;gBACjD,YACE,uBACA,kCACA;oBAAE,UAAU;oBAAoB,OAAO;gBAAY,GACnD,SACA,cACA,OAAO;gBAET,aAAa,WAAW,oBAAoB;YAC9C;YAEA,yBAAyB;YACzB,IAAI;YACJ,IAAI;gBACF,SAAS,YAAY;YACvB,EAAE,OAAO,QAAQ;gBACf,YACE,kBACA,OAAO,OAAO,IAAI,6BAClB;oBAAE,UAAU;oBAAoB;gBAAW,GAC3C,SACA,cACA;gBAEF,SAAS;oBAAE,GAAG;oBAAG,GAAG;oBAAG,GAAG;gBAAE;YAC9B;YAEA,OAAO;gBAAE;gBAAM,OAAO;YAAO;QAC/B,EAAE,OAAO,KAAK;YACZ,YACE,mBACA,IAAI,OAAO,IAAI,0CACf;gBAAE,UAAU;YAAmB,GAC/B,SACA,SACA;YAEF,OAAO;gBAAE,MAAM;gBAAW,OAAO;oBAAE,GAAG;oBAAG,GAAG;oBAAG,GAAG;gBAAE;YAAE;QACxD;IACF;IAEA,MAAM,WAAW,CAAC;QAClB,IAAI;YACF,IAAI,OAAO,WAAW,UAAU;gBAC9B,YACE,0BACA,6BACA;oBAAE,OAAO;gBAAO,GAChB,SACA,UACA,OAAO;gBAET,OAAO;oBAAE,GAAG;oBAAK,GAAG;oBAAG,GAAG;gBAAE;YAC9B;YAEA,MAAM,QAAQ,OAAO,KAAK,CAAC;YAC3B,IAAI,OAAO;gBACT,OAAO;oBACL,GAAG,SAAS,KAAK,CAAC,EAAE;oBACpB,GAAG,SAAS,KAAK,CAAC,EAAE;oBACpB,GAAG,SAAS,KAAK,CAAC,EAAE;gBACtB;YACF,OAAO;gBACL,YACE,sBACA,4CACA;oBAAE,OAAO;gBAAO,GAChB,WACA,UACA;gBAEF,OAAO;oBAAE,GAAG;oBAAK,GAAG;oBAAG,GAAG;gBAAE;YAC9B;QACF,EAAE,OAAO,KAAK;YACZ,YACE,kBACA,IAAI,OAAO,IAAI,8BACf;gBAAE,UAAU;gBAAY,OAAO;YAAO,GACtC,SACA,UACA;YAEF,OAAO;gBAAE,GAAG;gBAAK,GAAG;gBAAG,GAAG;YAAE;QAC9B;IACA;IAEA,SAAS,YAAY,eAAe;QAClC,IAAI;YACF,IAAI,OAAO,oBAAoB,YAAY,CAAC,UAAU,IAAI,CAAC,kBAAkB;gBAC3E,YACE,8BACA,4DACA;oBAAE,OAAO;gBAAgB,GACzB,SACA,mBACA,OAAO;gBAET,MAAM,IAAI,MAAM;YAClB;YAEA,MAAM,IAAI,SAAS,gBAAgB,KAAK,CAAC,GAAG,IAAI;YAChD,MAAM,IAAI,SAAS,gBAAgB,KAAK,CAAC,GAAG,IAAI;YAChD,MAAM,IAAI,SAAS,gBAAgB,KAAK,CAAC,GAAG,IAAI;YAEhD,OAAO,CAAC,IAAI,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;QAChC,EAAE,OAAO,KAAK;YACZ,YACE,qBACA,IAAI,OAAO,IAAI,0BACf;gBAAE,UAAU;gBAAe,OAAO;YAAgB,GAClD,SACA,mBACA,OAAO;YAET,OAAO;QACT;IACF;IAEA,MAAM,wBAAwB,CAAC;QAC7B,IAAI;YACF,MAAM,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,GAAG,SAAS;YAC7B,IACE,OAAO,MAAM,YACb,OAAO,MAAM,YACb,OAAO,MAAM,YACb;gBAAC;gBAAG;gBAAG;aAAE,CAAC,IAAI,CAAC,CAAC,IAAM,IAAI,KAAK,IAAI,MACnC;gBACA,YACE,6BACA,+BACA;oBAAE,OAAO;gBAAO,GAChB,WACA,UACA;gBAEF,OAAO;YACT;YACA,OAAO,CAAC,IAAI,EAAE,MAAM,EAAE,EAAE,EAAE,MAAM,EAAE,EAAE,EAAE,MAAM,EAAE,CAAC,CAAC;QAClD,EAAE,OAAO,KAAK;YACZ,YACE,sBACA,IAAI,OAAO,IAAI,yCACf;gBAAE,UAAU;gBAAyB,OAAO;YAAO,GACnD,SACA,UACA;YAEF,OAAO;QACT;IACF;IAEA,SAAS,UAAU,SAAS;QAC1B,IAAI;YACF,IAAI,OAAO,cAAc,UAAU;gBACjC,YACE,2BACA,6BACA;oBAAE,OAAO;gBAAU,GACnB,SACA,aACA,OAAO;gBAET,OAAO;YACT;YAEA,MAAM,QAAQ,UAAU,KAAK,CAAC;YAC9B,IAAI,CAAC,SAAS,MAAM,MAAM,GAAG,GAAG;gBAC9B,YACE,uBACA,yCACA;oBAAE,OAAO;gBAAU,GACnB,SACA,aACA;gBAEF,OAAO;YACT;YAEA,MAAM,CAAC,GAAG,GAAG,EAAE,GAAG,MAAM,GAAG,CAAC;YAC5B,MAAM,YAAY;gBAAC;gBAAG;gBAAG;aAAE,CACxB,GAAG,CAAC,CAAC,IAAM,EAAE,QAAQ,GAAG,QAAQ,CAAC,GAAG,MACpC,IAAI,CAAC;YAER,OAAO;QACT,EAAE,OAAO,KAAK;YACZ,YACE,mBACA,IAAI,OAAO,IAAI,+BACf;gBAAE,UAAU;gBAAa,OAAO;YAAU,GAC1C,SACA,aACA;YAEF,OAAO;QACT;IACF;IAEA,MAAM,uBAAuB,CAAC,aAAa,aAAa;QACtD,IAAI,UAAU,OAAO,CAAC,YAAY,EAAE;YAClC,aAAa,UAAU,OAAO,CAAC,YAAY;QAC7C;QAEA,UAAU,OAAO,CAAC,YAAY,GAAG,WAAW;YAC1C,IAAI,MAAM,GAAG,UAAU,KAAK,UAAU,IAAI,EAAE;gBAC1C,IAAI;oBACF,MAAM,UAAU;oBAChB,GAAG,IAAI,CAAC;gBACV,EAAE,OAAO,KAAK;oBACZ,YACE,0BACA,IAAI,OAAO,IAAI,oCACf;wBAAE,UAAU;wBAAwB;oBAAY,GAChD,SACA,eACA;gBAEJ;YACF,OAAO;gBACL,QAAQ,GAAG,CAAC;YACd;YACA,UAAU,OAAO,CAAC,YAAY,GAAG;QACnC,GAAG;IACL;IAEA,MAAM,qBAAqB,CAAC;QAC1B,IAAI;YACF,IAAI,MAAM,SAAS,OAAO,OAAO,OAAO,CAAC,OAAO,KAAK;YACrD,IAAI,MAAM,MAAM;gBACd,YACE,sBACA,oCACA;oBAAE,OAAO;gBAAM,GACf,WACA,cACA,OAAO;gBAET,MAAM;YACR;YACA,OAAO,KAAK,GAAG,CAAC,KAAK,GAAG,CAAC,KAAK,IAAI;QACpC,EAAE,OAAO,KAAK;YACZ,YACE,4BACA,IAAI,OAAO,IAAI,iCACf;gBAAE,OAAO;YAAM,GACf,SACA,cACA,OAAO;YAET,OAAO;QACT;IACF;IAEA,MAAM,iBAAiB,CAAC;QACtB,IAAI;YACF,IAAI,MAAM,WAAW,OAAO,OAAO,OAAO,CAAC,WAAW;YACtD,IAAI,MAAM,MAAM;gBACd,YACE,kBACA,gCACA;oBAAE,OAAO;gBAAM,GACf,WACA,UACA,OAAO;gBAET,MAAM;YACR;YACA,OAAO,KAAK,GAAG,CAAC,KAAK,GAAG,CAAC,KAAK,KAAK;QACrC,EAAE,OAAO,KAAK;YACZ,YACE,wBACA,IAAI,OAAO,IAAI,6BACf;gBAAE,OAAO;YAAM,GACf,SACA,UACA,OAAO;YAET,OAAO;QACT;IACF;IAEA,MAAM,uBAAuB,CAAC,SAAS;QACrC,IAAI;YACF,QAAQ,GAAG,CAAC;YACZ,IAAI,iBAAiB,OAAO,EAAE;YAC9B,IAAI,CAAC,yBAAyB,OAAO,EAAE;YACvC,IAAI,kBAAkB,OAAO,EAAE;gBAC7B,kBAAkB,OAAO,GAAG;gBAC5B;YACF;YAEA,QAAQ,GAAG,CAAC;YACZ,QAAQ,GAAG,CAAC,aAAa;YACzB,QAAQ,GAAG,CAAC,aAAa;YAEzB,OAAO,IAAI,CAAC,SAAS,OAAO,CAAC,CAAC;gBAC5B,IAAI;oBACF,IAAI,KAAK,SAAS,CAAC,OAAO,CAAC,IAAI,MAAM,KAAK,SAAS,CAAC,OAAO,CAAC,IAAI,GAAG;wBACjE,OAAQ;4BACN,KAAK;gCAAU;oCACb,IAAI;wCACF,MAAM,YAAY,QAAQ,MAAM,EAAE;wCAClC,IAAI,CAAC,WAAW;4CACd,YACE,kBACA,sCACA;gDAAE;gDAAS;4CAAI,GACf,WACA,UACA,OAAO,QAAQ,MAAM;4CAEvB;wCACF;wCACA,qBACE,UACA,IAAM,mBAAmB,kBAAkB,MAAM,WACjD;oCAEJ,EAAE,OAAO,KAAK;wCACZ,YACE,sBACA,IAAI,OAAO,IAAI,kCACf;4CAAE,UAAU;4CAAwB;wCAAI,GACxC,SACA,UACA,OAAO,QAAQ,MAAM;oCAEzB;oCACA;gCACF;4BAEA,KAAK;gCAAkB;oCACrB,IAAI;wCACF,MAAM,iBAAiB,eAAe,QAAQ,cAAc;wCAC5D,qBACE,kBACA,IACE,mBACA,kBACA,MACA,gBACF;oCAEJ,EAAE,OAAO,KAAK;wCACZ,YACE,wBACA,IAAI,OAAO,IAAI,oCACf;4CAAE;4CAAK;wCAAQ,GACf,SACA,kBACA,OAAO,QAAQ,cAAc;oCAEjC;oCACA;gCACF;4BAEA,KAAK;gCAAe;oCAClB,IAAI;wCACF,MAAM,cAAc,QAAQ,WAAW;wCACvC,IAAI,CAAC,aAAa;4CAChB,YACE,wBACA,yCACA;gDAAE;4CAAQ,GACV,WACA,eACA,OAAO;4CAET;wCACF;wCACA,qBACE,eACA,IACE,yBACA,kBACA,MACA,aACF;oCAEJ,EAAE,OAAO,KAAK;wCACZ,YACE,qBACA,IAAI,OAAO,IAAI,iCACf;4CAAE;4CAAK;wCAAQ,GACf,SACA,eACA,OAAO,QAAQ,WAAW;oCAE9B;oCACA;gCACF;4BAEA,KAAK;gCAAe;oCAClB,IAAI;wCACF,IAAI,QAAQ,WAAW,KAAK,MAAM;4CAChC,MAAM,YAAY,QAAQ,KAAK,GAAG;4CAClC,IAAI,MAAM,cAAc,aAAa,GAAG;gDACtC,YACE,iBACA,uBACA;oDAAE;gDAAQ,GACV,WACA,SACA,OAAO,QAAQ,KAAK;gDAEtB;4CACF;4CACA,qBACE,SACA,IAAM,kBAAkB,kBAAkB,MAAM,WAChD;wCAEJ,OAAO;4CACL,qBACE,SACA,IAAM,kBAAkB,kBAAkB,WAC1C;wCAEJ;oCACF,EAAE,OAAO,KAAK;wCACZ,YACE,qBACA,IAAI,OAAO,IAAI,gCACf;4CAAE;4CAAK;wCAAQ,GACf,SACA,eACA,OAAO,QAAQ,WAAW;oCAE9B;oCACA;gCACF;4BAEA,KAAK;gCAAc;oCACjB,IAAI;wCACF,MAAM,aAAa,mBAAmB,QAAQ,UAAU;wCACxD,qBACE,cACA,IACE,uBACA,kBACA,MACA,YACF;oCAEJ,EAAE,OAAO,KAAK;wCACZ,YACE,0BACA,IAAI,OAAO,IAAI,+BACf;4CAAE;4CAAK;wCAAQ,GACf,SACA,cACA,OAAO,QAAQ,UAAU;oCAE7B;oCACA;gCACF;4BAEA,KAAK;4BACL,KAAK;gCAAS;oCACZ,IAAI;wCACF,IAAI;wCACJ,IAAI;wCAEJ,IACE;4CAAC;4CAAS;4CAAQ;4CAAgB;yCAAY,CAAC,QAAQ,CACrD,QAAQ,IAAI,GAEd;4CACA,eAAe,GAAG,QAAQ,IAAI,CAAC,CAAC,EAAE,QAAQ,KAAK,EAAE;4CACjD,MAAM,YAAY,UAAU,QAAQ,KAAK;4CACzC,OAAQ,QAAQ,IAAI;gDAClB,KAAK;oDACH,UACE,kBACA,kBACA,YACA;oDACF;gDACF,KAAK;oDACH,UACE,kBACA,kBACA,WACA;oDACF;gDACF,KAAK;oDACH,UACE,kBACA,kBACA,cACA;oDACF;gDACF,KAAK;oDACH,UACE,kBACA,kBACA,gBACA;oDACF;gDACF;oDACE,YACE,sBACA,0BACA;wDAAE;oDAAQ,GACV,WACA,QACA,QAAQ,IAAI;oDAEd;4CACJ;wCACF,OAAO,IAAI,QAAQ,IAAI,KAAK,oBAAoB;4CAC9C,MAAM,YAAY,UAAU,QAAQ,KAAK;4CACzC,MAAM,OAAO,UACX,sBAAsB,QAAQ,KAAK;4CAErC,eAAe,CAAC,SAAS,EAAE,QAAQ,KAAK,EAAE;4CAC1C,UACE,kBACA,kBACA,eACA,YACA,MACA;wCACJ,OAAO;4CACL,eAAe,QAAQ,IAAI;4CAC3B,UACE,kBAAkB,kBAAkB,MAAM,QAAQ,IAAI;wCAC1D;wCAEA,qBAAqB,aAAa,IAAM,SAAS;oCACnD,EAAE,OAAO,KAAK;wCACZ,YACE,mBACA,IAAI,OAAO,IAAI,+BACf;4CAAE;wCAAQ,GACV,SACA,QACA,QAAQ,IAAI;oCAEhB;oCACA;gCACF;4BAEA;gCACE;wBACJ;oBACF;gBACF,EAAE,OAAO,QAAQ;oBACf,YACE,wBACA,OAAO,OAAO,IAAI,wCAClB;wBAAE;wBAAK;oBAAQ,GACf,SACA,OACA;gBAEJ;YACF;QACF,EAAE,OAAO,KAAK;YACZ,YACE,2BACA,IAAI,OAAO,IAAI,2DACf;gBAAE;gBAAS;YAAQ,GACnB,SACA,cACA;QAEJ;IACF;IAEA,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;oCAAE;YACR,IAAI;gBACF,qBAAqB,YAAY,kBAAkB,OAAO;gBAC1D,QAAQ,GAAG,CAAC,wBAAwB;gBACpC,kBAAkB,OAAO,GAAG;oBAAE,GAAG,UAAU;gBAAC;YAC9C,EAAE,OAAO,KAAK;gBACZ,YACE,2BACA,IAAI,OAAO,IAAI,oCACf;oBAAE;gBAAW,GACb,SACA,cACA;YAEJ;QACF;mCAAG;QAAC;KAAW;IAEf,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;oCAAE;YACR;4CAAO;oBACL,IAAI;wBACF,OAAO,MAAM,CAAC,UAAU,OAAO,EAAE,OAAO;wDAAC,CAAC;gCACxC,IAAI,OAAO,aAAa;4BAC1B;;wBACA;wBACA,IAAI,oBAAoB,OAAO,EAAE;4BAC/B,aAAa,oBAAoB,OAAO;wBAC1C;oBACF,EAAE,OAAO,KAAK;wBACZ,YACE,8BACA,IAAI,OAAO,IAAI,0CACf,CAAC,GACD,WACA,MACA;oBAEJ;gBACF;;QACF;mCAAG,EAAE;IAEL,MAAM,kBAAkB,CAAC;QACvB,IAAI;YACF,iBAAiB,OAAO,GAAG;YAE3B,IAAI,oBAAoB,OAAO,EAAE;gBAC/B,aAAa,oBAAoB,OAAO;gBACxC,oBAAoB,OAAO,GAAG;YAChC;YAEA,IAAI,IAAI;gBACN,GAAG,KAAK;YACV;YAEA;YACA,iBAAiB,OAAO,GAAG;YAC3B,yBAAyB,OAAO,GAAG;YACnC,kBAAkB,OAAO,GAAG;YAE5B,OAAO,IAAI,CAAC,UAAU,OAAO,EAAE,OAAO,CAAC,CAAC;gBACtC,IAAI,UAAU,OAAO,CAAC,IAAI,EAAE;oBAC1B,aAAa,UAAU,OAAO,CAAC,IAAI;oBACnC,UAAU,OAAO,CAAC,IAAI,GAAG;gBAC3B;YACF;YAEA,IAAI,CAAC,UAAU;gBACb,YACE,qBACA,+CACA,CAAC,GACD,SACA,YACA,OAAO;gBAET;YACF;YAEA,mBAAmB;YACnB,QAAQ,GAAG,CAAC,CAAC,qBAAqB,EAAE,SAAS,UAAU,EAAE,qBAAqB,OAAO,GAAG,EAAE,CAAC,CAAC;YAE5F,MAAM,YAAY,CAAC,4CAA4C,EAAE,UAAU;YAC3E,IAAI;YACJ,IAAI;gBACF,SAAS,IAAI,UAAU;YACzB,EAAE,OAAO,KAAK;gBACZ,YACE,gBACA,IAAI,OAAO,IAAI,kCACf;oBAAE;gBAAU,GACZ,SACA,YACA,OAAO;gBAET;YACF;YAEA,OAAO,MAAM,GAAG;gBACd,IAAI;oBACF,QAAQ,GAAG,CAAC;oBACZ,qBAAqB,OAAO,GAAG;oBAC/B,cAAc,CAAC,OAAS,CAAC;4BAAE,GAAG,IAAI;4BAAE,aAAa;wBAAK,CAAC;oBACvD,IAAI,SAAS,eAAe,KAAK,WAAW;gBAC9C,EAAE,OAAO,KAAK;oBACZ,YACE,kBACA,IAAI,OAAO,IAAI,+BACf;wBAAE;oBAAS,GACX,SACA,YACA,OAAO;gBAEX;YACF;YAEA,OAAO,SAAS,GAAG,CAAC;gBAClB,IAAI;oBACF,MAAM,UAAU,MAAM,IAAI;oBAE1B,IAAI,CAAC,WAAW,OAAO,YAAY,UAAU;wBAC3C,YACE,sBACA,qCACA;4BAAE;wBAAM,GACR,WACA,WACA,OAAO;wBAET;oBACF;oBAEA,IAAI,QAAQ,UAAU,CAAC,UAAU;wBAC/B,IAAI,oBAAoB,OAAO,EAAE;4BAC/B,aAAa,oBAAoB,OAAO;4BACxC,oBAAoB,OAAO,GAAG;wBAChC;wBACA;oBACF;oBAEA,IAAI,oBAAoB,OAAO,EAAE;wBAC/B,aAAa,oBAAoB,OAAO;wBACxC,oBAAoB,OAAO,GAAG;oBAChC;oBAEA,IAAI,CAAC,yBAAyB,OAAO,EAAE;wBACrC,yBAAyB,OAAO,GAAG;wBACnC,iBAAiB,OAAO,GAAG;wBAC3B,kBAAkB,OAAO,GAAG;wBAC5B,QAAQ,GAAG,CAAC;oBACd;oBAEA,IAAI,QAAQ,UAAU,CAAC,wBAAwB;wBAC7C,MAAM,QAAQ,QAAQ,KAAK,CAAC;wBAC5B,IAAI,MAAM,MAAM,KAAK,KAAK,KAAK,CAAC,EAAE,KAAK,UAAU;4BAC/C,MAAM,cAAc,WAAW,KAAK,CAAC,EAAE;4BACvC,IAAI,MAAM,cAAc;gCACtB,YACE,mBACA,yCACA;oCAAE;gCAAQ,GACV,WACA,eACA,KAAK,CAAC,EAAE;gCAEV;4BACF;4BACA,cAAc,CAAC,OAAS,CAAC;oCAAE,GAAG,IAAI;oCAAE;gCAAY,CAAC;wBACnD;oBACF,OAAO,IAAI,QAAQ,UAAU,CAAC,qBAAqB;wBACjD,MAAM,QAAQ,QAAQ,KAAK,CAAC;wBAC5B,IAAI,MAAM,MAAM,KAAK,KAAK,KAAK,CAAC,EAAE,KAAK,UAAU;4BAC/C,MAAM,WAAW,WAAW,KAAK,CAAC,EAAE;4BACpC,IAAI,MAAM,WAAW;gCACnB,YACE,uBACA,qCACA;oCAAE;gCAAQ,GACV,WACA,YACA,KAAK,CAAC,EAAE;gCAEV;4BACF;4BACA,cAAc,CAAC,OAAS,CAAC;oCAAE,GAAG,IAAI;oCAAE;gCAAS,CAAC;wBAChD;oBACF,OAAO,IAAI,QAAQ,UAAU,CAAC,gBAAgB;wBAC5C,MAAM,QAAQ,QAAQ,KAAK,CAAC;wBAC5B,IAAI,MAAM,MAAM,KAAK,KAAK,KAAK,CAAC,EAAE,KAAK,UAAU;4BAC/C,MAAM,YAAY,KAAK,CAAC,EAAE;4BAC1B,cAAc,CAAC,OAAS,CAAC;oCAAE,GAAG,IAAI;oCAAE;gCAAU,CAAC;wBACjD;oBACF,OAAO,IAAI,QAAQ,UAAU,CAAC,WAAW;wBACvC,MAAM,QAAQ,QAAQ,KAAK,CAAC;wBAC5B,IAAI,MAAM,MAAM,KAAK,KAAK,KAAK,CAAC,EAAE,KAAK,UAAU;4BAC/C,MAAM,SAAS,KAAK,CAAC,EAAE,KAAK,OAAO,OAAO;4BAC1C,cAAc,CAAC,OAAS,CAAC;oCAAE,GAAG,IAAI;oCAAE;gCAAO,CAAC;wBAC9C;oBACF,OAAO,IAAI,QAAQ,UAAU,CAAC,MAAM;wBAClC,IAAI;wBACJ,IAAI;4BACF,aAAa,KAAK,KAAK,CAAC;wBAC1B,EAAE,OAAO,KAAK;4BACZ,YACE,mBACA,IAAI,OAAO,IAAI,oCACf;gCAAE;4BAAQ,GACV,SACA,WACA,QAAQ,KAAK,CAAC,GAAG;4BAEnB;wBACF;wBAEA,MAAM,YAAY,iBAAiB,WAAW,KAAK,IAAI;wBACvD,MAAM,YACJ,WAAW,MAAM,KAAK,QAAQ,WAAW,MAAM,KAAK,OAAO,OAAO;wBAEpE,IAAI,aAAa;wBACjB,IAAI,aAAa;wBACjB,IAAI,OAAO,WAAW,KAAK,KAAK,YAAY,WAAW,KAAK,CAAC,QAAQ,CAAC,MAAM;4BAC1E,MAAM,QAAQ,WAAW,KAAK,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC,CAAC,IAAM,SAAS,EAAE,IAAI,IAAI;4BACxE,IAAI,MAAM,MAAM,KAAK,KAAK,MAAM,KAAK,CAAC,CAAC,IAAM,CAAC,MAAM,KAAK;gCACvD,CAAC,YAAY,WAAW,GAAG;4BAC7B,OAAO;gCACL,YACE,oBACA,oCACA;oCAAE,OAAO,WAAW,KAAK;gCAAC,GAC1B,WACA,SACA,WAAW,KAAK;4BAEpB;wBACF;wBAEA,MAAM,cACJ,eAAe,QAAQ,eAAe,OAClC,KAAK,KAAK,CAAC,CAAC,aAAa,UAAU,IAAI,QACvC;wBAEN,cAAc,CAAC,OAAS,CAAC;gCACvB,GAAG,IAAI;gCACP,IAAI,WAAW,EAAE,IAAI,KAAK,EAAE;gCAC5B,MAAM,WAAW,IAAI,IAAI,KAAK,IAAI;gCAClC,QAAQ;gCACR,YACE,OAAO,WAAW,UAAU,KAAK,WAC7B,WAAW,UAAU,GACrB,KAAK,UAAU;gCACrB,aACE,OAAO,WAAW,WAAW,KAAK,WAC9B,WAAW,WAAW,GACtB,KAAK,WAAW;gCACtB,UACE,OAAO,WAAW,QAAQ,KAAK,WAC3B,WAAW,QAAQ,GACnB,KAAK,QAAQ;gCACnB,gBACE,OAAO,WAAW,MAAM,KAAK,WACzB,WAAW,MAAM,GACjB,KAAK,cAAc;gCACzB,aAAa,WAAW,YAAY,IAAI,KAAK,IAAI;gCACjD,WAAW,WAAW,SAAS,IAAI,KAAK,SAAS;gCACjD,MAAM,UAAU,IAAI,IAAI,KAAK,IAAI;gCACjC,OAAO,UAAU,KAAK,IAAI,KAAK,KAAK;gCACpC,UAAU,WAAW,QAAQ,IAAI,KAAK,QAAQ;gCAC9C,OAAO,eAAe,KAAK,KAAK;4BAClC,CAAC;oBACH,OAAO;wBACL,YACE,wBACA,mCACA;4BAAE;wBAAQ,GACV,QACA,WACA,QAAQ,KAAK,CAAC,GAAG;oBAErB;gBACF,EAAE,OAAO,KAAK;oBACZ,YACE,wBACA,IAAI,OAAO,IAAI,4CACf;wBAAE,MAAM,MAAM,IAAI;oBAAC,GACnB,SACA,WACA,OAAO,MAAM,IAAI,EAAE,KAAK,CAAC,GAAG;gBAEhC;YACF;YAEA,OAAO,OAAO,GAAG,CAAC;gBAChB,QAAQ,KAAK,CAAC,oBAAoB;gBAClC;gBACA,cAAc,CAAC,OAAS,CAAC;wBAAE,GAAG,IAAI;wBAAE,aAAa;oBAAM,CAAC;gBACxD,IAAI,iBAAiB,OAAO,EAAE,gBAAgB;YAChD;YAEA,OAAO,OAAO,GAAG,CAAC;gBAChB,QAAQ,GAAG,CAAC,CAAC,sBAAsB,EAAE,MAAM,IAAI,CAAC,UAAU,EAAE,MAAM,MAAM,IAAI,WAAW;gBACvF;gBACA,cAAc,CAAC,OAAS,CAAC;wBAAE,GAAG,IAAI;wBAAE,aAAa;oBAAM,CAAC;gBACxD,IAAI,iBAAiB,OAAO,IAAI;oBAAC;oBAAM;oBAAM;oBAAM;iBAAK,CAAC,QAAQ,CAAC,MAAM,IAAI,GAAG;oBAC7E,gBAAgB;gBAClB;YACF;YAEA,MAAM;QACR,EAAE,OAAO,KAAK;YACZ,YACE,uBACA,IAAI,OAAO,IAAI,wCACf;gBAAE;YAAS,GACX,SACA,YACA,OAAO;QAEX;IACF;IAEA,MAAM,cAAc,CAAC,SAAS,OAAO,CAAC,CAAC;QACrC,IAAI;YACF,IAAI,MAAM,WAAW,WAAW,IAAI,iBAAiB;gBACnD,MAAM,UAAU,KAAK,SAAS,CAAC;oBAC7B;oBACA,UAAU;oBACV,GAAG,IAAI;gBACT;gBACA,GAAG,IAAI,CAAC;YACV,OAAO;gBACL,QAAQ,KAAK,CAAC;gBACd,YACE,wBACA,iDACA;oBAAE;oBAAS;gBAAK,GAChB,WACA,WACA;YAEJ;QACF,EAAE,OAAO,KAAK;YACZ,YACE,qBACA,IAAI,OAAO,IAAI,0BACf;gBAAE;gBAAS;YAAK,GAChB,SACA,WACA;QAEJ;IACF;IAEA,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;oCAAE;YACR,IAAI;gBACF,IAAI,WAAW;gBACf,IAAI,YAAY,WAAW,GAAG;oBAC5B,WAAW;oDAAY;4BACrB;4DAAY,CAAC;oCACX,IAAI;wCACF,MAAM,UAAU,WAAW;wCAC3B,IAAI,WAAW,GAAG;4CAChB,gBAAgB;4CAChB,YAAY;4CACZ,OAAO;wCACT;wCACA,OAAO;oCACT,EAAE,OAAO,KAAK;wCACZ,YACE,uBACA,IAAI,OAAO,IAAI,kCACf,CAAC,GACD,SACA,YACA,OAAO;wCAET,OAAO;oCACT;gCACF;;wBACF;mDAAG;gBACL,OAAO,IAAI,CAAC,UAAU;oBACpB,cAAc;gBAChB;gBACA;gDAAO,IAAM,cAAc;;YAC7B,EAAE,OAAO,KAAK;gBACZ,YACE,qBACA,IAAI,OAAO,IAAI,wCACf,CAAC,GACD,SACA,SACA;YAEJ;QACF;mCAAG;QAAC;QAAU;QAAU;KAAc;IAEtC,MAAM,aAAa;QACjB,IAAI;YACF,QAAQ,GAAG,CAAC;YACZ,iBAAiB,OAAO,GAAG;YAC3B,qBAAqB,OAAO,GAAG;YAE/B;YAEA,IAAI,oBAAoB,OAAO,EAAE;gBAC/B,aAAa,oBAAoB,OAAO;gBACxC,oBAAoB,OAAO,GAAG;YAChC;YAEA,OAAO,IAAI,CAAC,UAAU,OAAO,EAAE,OAAO,CAAC,CAAC;gBACtC,IAAI,UAAU,OAAO,CAAC,IAAI,EAAE;oBAC1B,aAAa,UAAU,OAAO,CAAC,IAAI;oBACnC,UAAU,OAAO,CAAC,IAAI,GAAG;gBAC3B;YACF;YAEA,IAAI,IAAI;gBACN,GAAG,KAAK;gBACR,MAAM;gBACN,cAAc,CAAC,OAAS,CAAC;wBAAE,GAAG,IAAI;wBAAE,aAAa;oBAAM,CAAC;gBACxD,mBAAmB;YACrB,OAAO;gBACL,YACE,wBACA,4DACA,CAAC,GACD,WACA,MACA;YAEJ;QACF,EAAE,OAAO,KAAK;YACZ,YACE,mBACA,IAAI,OAAO,IAAI,+CACf,CAAC,GACD,SACA,MACA;QAEJ;IACF;IAEA,MAAM,iBAAiB;QACrB,IAAI;YACF,IAAI,iBAAiB;gBACnB,QAAQ,GAAG,CAAC;gBACZ,qBAAqB,OAAO,GAAG;gBAC/B,gBAAgB;YAClB,OAAO;gBACL,YACE,6BACA,kDACA,CAAC,GACD,WACA,YACA;YAEJ;QACF,EAAE,OAAO,KAAK;YACZ,YACE,wBACA,IAAI,OAAO,IAAI,wCACf,CAAC,GACD,SACA,YACA,OAAO;QAEX;IACF;IAEA,qBACE,6LAAC,cAAc,QAAQ;QACrB,OAAO;YACL;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;QACF;kBAEC;;;;;;AAGP;GAp+Ca;KAAA;AAs+CN,MAAM,YAAY;;IAAM,OAAA,CAAA,GAAA,6JAAA,CAAA,aAAU,AAAD,EAAE;AAAa;IAA1C;AAEN,MAAM,0BAA0B,CAAC,EAAE,QAAQ,EAAE;;IAClD,MAAM,EAAE,eAAe,EAAE,eAAe,EAAE,GAAG;IAE7C,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;6CAAE;YACR,IAAI,YAAY,aAAa,iBAAiB;gBAC5C,gBAAgB;YAClB;QACF;4CAAG;QAAC;QAAU;QAAiB;KAAgB;IAE/C,OAAO;AACT;IAVa;;QACkC;;;MADlC"}},
    {"offset": {"line": 2085, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2091, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Documents/programming/mistify_website/components/devicePanelsText.js"],"sourcesContent":["// Device Panels Text Translations\n\nconst devicePanelsText = {\n  en: {\n    // ColorSelector\n    colorSelector: {\n      title: \"Light Color\"\n    },\n    \n    // BrightnessSelector\n    brightnessSelector: {\n      title: \"Brightness\",\n      currentMode: \"Current Mode:\",\n      modeOff: \"Off\"\n    },\n    \n    // ControlModeSelector\n    controlModeSelector: {\n      title: \"Control Mode\",\n      autoMode: \"Auto Mode\",\n      manualMode: \"Manual Mode\",\n      manual: \"Manual\",\n      auto: \"Auto\"\n    },\n    \n    // HumidityDisplay\n    humidityDisplay: {\n      title: \"Current Humidity\",\n      target: \"Target:\",\n      increasing: \"Increasing\",\n      decreasing: \"Decreasing\",\n      optimal: \"Optimal\"\n    },\n    \n    // TemperatureDisplay\n    temperatureDisplay: {\n      title: \"Temperature\",\n      celsius: \"°C\",\n      fahrenheit: \"°F\"\n    },\n    \n    // PowerControl\n    powerControl: {\n      title: \"Power Control\",\n      on: \"On\",\n      off: \"Off\",\n      running: \"Running\",\n      standby: \"Standby\"\n    },\n    \n    // TimerControl\n    timerControl: {\n      title: \"Timer\",\n      timerRunning: \"Timer Running\",\n      setTimer: \"Set Timer\",\n      hours: \"Hours\",\n      minutes: \"Minutes\",\n      timeRemaining: \"Time Remaining\",\n      cancelTimer: \"Cancel Timer\",\n      setTimerButton: \"Set Timer\",\n      timerSetMessage: \"Timer set for\",\n      timerCancelledMessage: \"Timer cancelled\"\n    },\n    \n    // TargetHumidityControl\n    targetHumidityControl: {\n      title: \"Target Humidity\",\n      off: \"OFF\",\n      targetDisabled: \"TARGET DISABLED\",\n      low: \"Low\",\n      med: \"Med\",\n      high: \"High\",\n      targetOff: \"Target Off\",\n      targetOn: \"Target On\",\n      recommendedNote: \"Recommended: 50-60% for optimal health.\"\n    },\n    \n    // ModeSelector\n    modeSelector: {\n      title: \"Lighting Mode\",\n      color: \"Color\",\n      fade: \"Fade\",\n      colorWave: \"Color Wave\",\n      rainbow: \"Rainbow\",\n      glowingGradient: \"Glowing Gradient\",\n      softTwinkle: \"Soft Twinkle\",\n      warmSunset: \"Warm Sunset\",\n      pulsating: \"Pulsating\",\n      off: \"Off\",\n      solidColor: \"Solid Color\",\n      turnOff: \"Turn Off\"\n    },\n    \n    // ModeEffectPreview\n    modeEffectPreview: {\n      title: \"Effect Preview\",\n      currentMode: \"Current Mode:\"\n    }\n  },\n  \n  lv: {\n    // ColorSelector\n    colorSelector: {\n      title: \"Gaismas Krāsa\"\n    },\n    \n    // BrightnessSelector\n    brightnessSelector: {\n      title: \"Spilgtums\",\n      currentMode: \"Pašreizējais Režīms:\",\n      modeOff: \"Izslēgts\"\n    },\n    \n    // ControlModeSelector\n    controlModeSelector: {\n      title: \"Vadības Režīms\",\n      autoMode: \"Automātiskais Režīms\",\n      manualMode: \"Manuālais Režīms\",\n      manual: \"Manuāls\",\n      auto: \"Automātisks\"\n    },\n    \n    // HumidityDisplay\n    humidityDisplay: {\n      title: \"Pašreizējais Mitrums\",\n      target: \"Mērķis:\",\n      increasing: \"Palielinās\",\n      decreasing: \"Samazinās\",\n      optimal: \"Optimāls\"\n    },\n    \n    // TemperatureDisplay\n    temperatureDisplay: {\n      title: \"Temperatūra\",\n      celsius: \"°C\",\n      fahrenheit: \"°F\"\n    },\n    \n    // PowerControl\n    powerControl: {\n      title: \"Barošanas Vadība\",\n      on: \"Ieslēgts\",\n      off: \"Izslēgts\",\n      running: \"Darbojas\",\n      standby: \"Gaidīšanas Režīms\"\n    },\n    \n    // TimerControl\n    timerControl: {\n      title: \"Taimeris\",\n      timerRunning: \"Taimeris Darbojas\",\n      setTimer: \"Iestatīt Taimeri\",\n      hours: \"Stundas\",\n      minutes: \"Minūtes\",\n      timeRemaining: \"Atlikušais Laiks\",\n      cancelTimer: \"Atcelt Taimeri\",\n      setTimerButton: \"Iestatīt Taimeri\",\n      timerSetMessage: \"Taimeris iestatīts uz\",\n      timerCancelledMessage: \"Taimeris atcelts\"\n    },\n    \n    // TargetHumidityControl\n    targetHumidityControl: {\n      title: \"Mērķa Mitrums\",\n      off: \"IZSLĒGTS\",\n      targetDisabled: \"MĒRĶIS ATSPĒJOTS\",\n      low: \"Zems\",\n      med: \"Vidējs\",\n      high: \"Augsts\",\n      targetOff: \"Mērķis Izslēgts\",\n      targetOn: \"Mērķis Ieslēgts\",\n      recommendedNote: \"Ieteicams: 50-60% optimālai veselībai.\"\n    },\n    \n    // ModeSelector\n    modeSelector: {\n      title: \"Apgaismojuma Režīms\",\n      color: \"Krāsa\",\n      fade: \"Blāvums\",\n      colorWave: \"Krāsu Vilnis\",\n      rainbow: \"Varavīksne\",\n      glowingGradient: \"Spīdošs Gradients\",\n      softTwinkle: \"Mīksta Mirdzēšana\",\n      warmSunset: \"Silts Saulriets\",\n      pulsating: \"Pulsējošs\",\n      off: \"Izslēgts\",\n      solidColor: \"Viendabīga Krāsa\",\n      turnOff: \"Izslēgt\"\n    },\n    \n    // ModeEffectPreview\n    modeEffectPreview: {\n      title: \"Efekta Priekšskatījums\",\n      currentMode: \"Pašreizējais Režīms:\"\n    }\n  }\n};\n\nexport const getDevicePanelsText = (locale) => {\n  return devicePanelsText[locale] || devicePanelsText.en;\n};"],"names":[],"mappings":"AAAA,kCAAkC;;;;AAElC,MAAM,mBAAmB;IACvB,IAAI;QACF,gBAAgB;QAChB,eAAe;YACb,OAAO;QACT;QAEA,qBAAqB;QACrB,oBAAoB;YAClB,OAAO;YACP,aAAa;YACb,SAAS;QACX;QAEA,sBAAsB;QACtB,qBAAqB;YACnB,OAAO;YACP,UAAU;YACV,YAAY;YACZ,QAAQ;YACR,MAAM;QACR;QAEA,kBAAkB;QAClB,iBAAiB;YACf,OAAO;YACP,QAAQ;YACR,YAAY;YACZ,YAAY;YACZ,SAAS;QACX;QAEA,qBAAqB;QACrB,oBAAoB;YAClB,OAAO;YACP,SAAS;YACT,YAAY;QACd;QAEA,eAAe;QACf,cAAc;YACZ,OAAO;YACP,IAAI;YACJ,KAAK;YACL,SAAS;YACT,SAAS;QACX;QAEA,eAAe;QACf,cAAc;YACZ,OAAO;YACP,cAAc;YACd,UAAU;YACV,OAAO;YACP,SAAS;YACT,eAAe;YACf,aAAa;YACb,gBAAgB;YAChB,iBAAiB;YACjB,uBAAuB;QACzB;QAEA,wBAAwB;QACxB,uBAAuB;YACrB,OAAO;YACP,KAAK;YACL,gBAAgB;YAChB,KAAK;YACL,KAAK;YACL,MAAM;YACN,WAAW;YACX,UAAU;YACV,iBAAiB;QACnB;QAEA,eAAe;QACf,cAAc;YACZ,OAAO;YACP,OAAO;YACP,MAAM;YACN,WAAW;YACX,SAAS;YACT,iBAAiB;YACjB,aAAa;YACb,YAAY;YACZ,WAAW;YACX,KAAK;YACL,YAAY;YACZ,SAAS;QACX;QAEA,oBAAoB;QACpB,mBAAmB;YACjB,OAAO;YACP,aAAa;QACf;IACF;IAEA,IAAI;QACF,gBAAgB;QAChB,eAAe;YACb,OAAO;QACT;QAEA,qBAAqB;QACrB,oBAAoB;YAClB,OAAO;YACP,aAAa;YACb,SAAS;QACX;QAEA,sBAAsB;QACtB,qBAAqB;YACnB,OAAO;YACP,UAAU;YACV,YAAY;YACZ,QAAQ;YACR,MAAM;QACR;QAEA,kBAAkB;QAClB,iBAAiB;YACf,OAAO;YACP,QAAQ;YACR,YAAY;YACZ,YAAY;YACZ,SAAS;QACX;QAEA,qBAAqB;QACrB,oBAAoB;YAClB,OAAO;YACP,SAAS;YACT,YAAY;QACd;QAEA,eAAe;QACf,cAAc;YACZ,OAAO;YACP,IAAI;YACJ,KAAK;YACL,SAAS;YACT,SAAS;QACX;QAEA,eAAe;QACf,cAAc;YACZ,OAAO;YACP,cAAc;YACd,UAAU;YACV,OAAO;YACP,SAAS;YACT,eAAe;YACf,aAAa;YACb,gBAAgB;YAChB,iBAAiB;YACjB,uBAAuB;QACzB;QAEA,wBAAwB;QACxB,uBAAuB;YACrB,OAAO;YACP,KAAK;YACL,gBAAgB;YAChB,KAAK;YACL,KAAK;YACL,MAAM;YACN,WAAW;YACX,UAAU;YACV,iBAAiB;QACnB;QAEA,eAAe;QACf,cAAc;YACZ,OAAO;YACP,OAAO;YACP,MAAM;YACN,WAAW;YACX,SAAS;YACT,iBAAiB;YACjB,aAAa;YACb,YAAY;YACZ,WAAW;YACX,KAAK;YACL,YAAY;YACZ,SAAS;QACX;QAEA,oBAAoB;QACpB,mBAAmB;YACjB,OAAO;YACP,aAAa;QACf;IACF;AACF;AAEO,MAAM,sBAAsB,CAAC;IAClC,OAAO,gBAAgB,CAAC,OAAO,IAAI,iBAAiB,EAAE;AACxD"}},
    {"offset": {"line": 2277, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2283, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Documents/programming/mistify_website/components/panels/BrightnessSelector.jsx"],"sourcesContent":["\"use client\";\nimport React, { useState, useEffect } from 'react';\nimport { useDevice } from '@/components/context/DeviceContext';\nimport { getDevicePanelsText } from '@/components/devicePanelsText';\nimport { useLanguage } from '@/components/context/LanguageContext';\n\nconst BrightnessSelector = () => {\n  const { deviceData, setDeviceData } = useDevice();\n\n  // Language system\n  const { locale } = useLanguage();\n  const [text, setText] = useState(getDevicePanelsText(\"en\"));\n\n  // Update text when locale changes\n  useEffect(() => {\n    const newText = getDevicePanelsText(locale);\n    if (newText) {\n      setText(newText);\n    }\n  }, [locale]);\n\n  const hexToRgba = (hex, alpha = 1) => {\n    let c = hex.replace('#', '');\n    if (c.length === 3) {\n      c = c.split('').map(x => x + x).join('');\n    }\n    const bigint = parseInt(c, 16);\n    const r = (bigint >> 16) & 255;\n    const g = (bigint >> 8) & 255;\n    const b = bigint & 255;\n    return `rgba(${r}, ${g}, ${b}, ${alpha})`;\n  };\n\n  const color = deviceData.color && deviceData.color !== 'none' ? deviceData.color : '#FFD700';\n\n  const setBrightness = (value) => {\n    const brightness = Math.min(Math.max(parseInt(value), 1), 255);\n    setDeviceData(prev => ({ ...prev, brightness }));\n  };\n\n  const isOff = deviceData.mode?.trim().toLowerCase() === \"off\";\n\n  if (isOff) {\n    return (\n      <div\n        className=\"bg-gradient-to-br from-yellow-400/10 to-indigo-600/20 rounded-xl flex-grow text-white inline-flex items-center justify-center p-4 font-semibold text-lg\"\n      >\n        {text.brightnessSelector.currentMode} {text.brightnessSelector.modeOff}\n      </div>\n    );\n  }\n\n  // If not off, show brightness selector\n  return (\n    <div\n      className=\"bg-gradient-to-br from-yellow-400/10 to-indigo-600/20 rounded-xl p-3 relative flex flex-col flex-grow overflow-hidden\"\n      style={{ display: 'flex' }}\n    >\n      <div className=\"relative z-10 flex flex-col flex-grow\">\n        <div className=\"flex justify-between items-center mb-2\">\n          <h3 className=\"text-gray-400 text-sm\">{text.brightnessSelector.title}</h3>\n          <span className=\"text-sm font-medium\">\n            {Math.round((deviceData.brightness / 255) * 100)}%\n          </span>\n        </div>\n\n        <div className=\"relative w-full h-[84px] mb-3 rounded-md overflow-hidden\">\n          <div\n            className=\"absolute inset-0 opacity-70 z-0 rounded-md\"\n            style={{\n              background: `linear-gradient(to right, ${hexToRgba(color, 0)}, ${color})`,\n            }}            \n          ></div>\n\n          <input\n            type=\"range\"\n            min=\"1\"\n            max=\"255\"\n            value={deviceData.brightness}\n            onChange={(e) => setBrightness(e.target.value)}\n            className=\"relative w-full h-[84px] z-10 appearance-none bg-transparent cursor-pointer custom-range-thumb\"\n            style={{ accentColor: color }}\n          />\n        </div>\n      </div>\n\n      <style jsx>{`\n        input[type=\"range\"].custom-range-thumb::-webkit-slider-thumb {\n          -webkit-appearance: none;\n          appearance: none;\n          width: 6px;\n          height: 84px;\n          background: white;\n          box-shadow: 0 0 4px ${color};\n          border-radius: 2px;\n          margin-top: 0;\n        }\n\n        input[type=\"range\"].custom-range-thumb::-moz-range-thumb {\n          width: 6px;\n          height: 84px;\n          background: white;\n          box-shadow: 0 0 4px ${color};\n          border: none;\n          border-radius: 2px;\n        }\n\n        input[type=\"range\"].custom-range-thumb::-webkit-slider-runnable-track {\n          height: 84px;\n          background: transparent;\n        }\n\n        input[type=\"range\"].custom-range-thumb::-moz-range-track {\n          height: 84px;\n          background: transparent;\n        }\n      `}</style>\n    </div>\n  );\n};\n\nexport default BrightnessSelector;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2521, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2527, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Documents/programming/mistify_website/components/panels/ColorSelector.jsx"],"sourcesContent":["'use client';\nimport { useState, useRef, useEffect } from 'react';\nimport { SketchPicker } from \"react-color\";\nimport { useDevice } from '@/components/context/DeviceContext';\nimport { getDevicePanelsText } from '@/components/devicePanelsText';\nimport { useLanguage } from '@/components/context/LanguageContext';\n\nexport const ColorSelector = () => {\n  const { deviceData, setDeviceData } = useDevice();\n  const [isOpen, setIsOpen] = useState(false);\n  const [popupPosition, setPopupPosition] = useState({ top: 80, left: 80 });\n  const popupRef = useRef(null);\n  const buttonRef = useRef(null);\n  const lastCloseTimeRef = useRef(0);\n\n  // Language system\n  const { locale } = useLanguage();\n  const [text, setText] = useState(getDevicePanelsText(\"en\"));\n\n  // Update text when locale changes\n  useEffect(() => {\n    const newText = getDevicePanelsText(locale);\n    if (newText) {\n      setText(newText);\n    }\n  }, [locale]);\n\n  const handleClickOutside = (event) => {\n    if (popupRef.current && !popupRef.current.contains(event.target)) {\n      setIsOpen(false);\n      lastCloseTimeRef.current = Date.now();\n    }\n  };\n\n  useEffect(() => {\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\n  }, []);\n\n  const rgbToHex = (rgb) => {\n    const rgbMatch = rgb.match(/^(\\d+),\\s*(\\d+),\\s*(\\d+)$/);\n    if (!rgbMatch) return rgb;\n  \n    const r = parseInt(rgbMatch[1]);\n    const g = parseInt(rgbMatch[2]);\n    const b = parseInt(rgbMatch[3]);\n  \n    return `${r}, ${g}, ${b}`;\n  };\n\n  const rgbToString = (rgb) => {\n    if (typeof rgb === \"object\" && rgb.r !== undefined && rgb.g !== undefined && rgb.b !== undefined) {\n      return `rgb(${rgb.r}, ${rgb.g}, ${rgb.b})`;\n    }\n    return \"rgb(0, 0, 0)\";\n  };\n\n  const setColor = (color) => {\n    setDeviceData(prev => ({...prev, color}));\n  };\n\n  const displayColorInHex = rgbToHex(deviceData.color);\n\n  return (\n    <>\n      <div className=\"bg-gray-800 rounded-xl p-4 relative flex-grow\">\n        <div className=\"flex justify-between items-center mb-6 z-10 relative\">\n          <div className=\"flex items-center\">\n            <svg \n              xmlns=\"http://www.w3.org/2000/svg\" \n              className=\"h-6 w-6 text-purple-400 mr-3\" \n              fill=\"none\" \n              viewBox=\"0 0 24 24\" \n              stroke=\"currentColor\"\n            >\n              <path \n                strokeLinecap=\"round\" \n                strokeLinejoin=\"round\" \n                strokeWidth={2} \n                d=\"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01\" \n              />\n            </svg>\n            <h3 className=\"text-gray-200 text-lg font-medium\">{text.colorSelector.title}</h3>\n          </div>\n          <div className=\"w-8 h-8 rounded-full border-2 border-white shadow-lg\" style={{ backgroundColor: deviceData.color }}></div>\n        </div>\n        \n        <div className=\"z-10 relative space-y-6 mt-12\">\n          <div className=\"flex items-center space-x-4\">\n            <input\n              type=\"range\"\n              min=\"0\"\n              max=\"100\"\n              className=\"color-slider\"\n              onChange={(e) => {\n                const val = e.target.value;\n                let newColor;\n                if (val < 20) {\n                  newColor = `rgb(255, ${Math.floor(val * 12.75)}, 0)`; // red to yellow\n                } else if (val < 40) {\n                  newColor = `rgb(${Math.floor(255 - (val - 20) * 12.75)}, 255, 0)`; // yellow to green\n                } else if (val < 60) {\n                  newColor = `rgb(0, 255, ${Math.floor((val - 40) * 12.75)})`; // green to cyan\n                } else if (val < 80) {\n                  newColor = `rgb(0, ${Math.floor(255 - (val - 60) * 12.75)}, 255)`; // cyan to blue\n                } else {\n                  newColor = `rgb(${Math.floor((val - 80) * 12.75)}, 0, 255)`; // blue to magenta\n                }\n                setColor(newColor);\n              }}\n              style={{\n                background: 'linear-gradient(to right, red, yellow, green, cyan, blue, magenta)',\n              }}\n            />\n            <button\n              ref={buttonRef}\n              className=\"w-8 h-8 rounded-full border-2 border-white shadow-lg\"\n              style={{ backgroundColor: displayColorInHex }}\n              onClick={(e) => {\n                e.preventDefault();\n                e.stopPropagation();\n                \n                const timeSinceClose = Date.now() - lastCloseTimeRef.current;\n                if (timeSinceClose < 100) {\n                  return; // Grace period - don't open if just closed\n                }\n                \n                if (!isOpen && buttonRef.current) {\n                  const rect = buttonRef.current.getBoundingClientRect();\n                  setPopupPosition({\n                    top: rect.bottom + 8,\n                    left: rect.left - 200 // Offset to the left of the button\n                  });\n                }\n                \n                setIsOpen(!isOpen);\n              }}\n            />\n          </div>\n        </div>\n        \n        <div className=\"absolute inset-0 bg-gradient-to-br from-purple-500/10 to-pink-600/15\"></div>\n        <style jsx>{`\n          input[type=\"range\"].color-slider {\n            -webkit-appearance: none;\n            appearance: none;\n            width: 100%;\n            height: 24px; /* Much shorter bar height */\n            border-radius: 6px;\n            cursor: pointer;\n            background: none;\n          }\n\n          input[type=\"range\"].color-slider::-webkit-slider-thumb {\n            -webkit-appearance: none;\n            appearance: none;\n            width: 6px;\n            height: 24px;\n            background: white;\n            border-radius: 2px;\n            box-shadow: 0 0 3px rgba(255, 255, 255, 0.7);\n            margin-top: 0px;\n            cursor: pointer;\n          }\n\n          input[type=\"range\"].color-slider::-webkit-slider-runnable-track {\n            height: 24px;\n            border-radius: 6px;\n            background: transparent;\n          }\n\n          input[type=\"range\"].color-slider::-moz-range-thumb {\n            width: 6px;\n            height: 24px;\n            background: white;\n            border: none;\n            border-radius: 2px;\n            box-shadow: 0 0 3px rgba(255, 255, 255, 0.7);\n            cursor: pointer;\n          }\n\n          input[type=\"range\"].color-slider::-moz-range-track {\n            height: 24px;\n            border-radius: 6px;\n            background: transparent;\n          }\n        `}</style>\n      </div>\n\n      {isOpen && (\n        <div\n          ref={popupRef}\n          className=\"fixed bg-gray-900 p-4 border border-gray-500 rounded-lg shadow-xl z-[9999]\"\n          style={{\n            top: `${popupPosition.top}px`,\n            left: `${popupPosition.left}px`\n          }}\n        >\n          <SketchPicker\n            color={displayColorInHex}\n            onChange={(updatedColor) => setColor(rgbToString(updatedColor.rgb))}\n            disableAlpha={true}\n            presetColors={[]}\n          />\n        </div>\n      )}\n    </>\n  );\n};"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2796, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2802, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Documents/programming/mistify_website/components/panels/ModeEffectPreview.jsx"],"sourcesContent":["'use client';\nimport { useEffect, useRef, useState } from 'react';\nimport { useDevice } from '@/components/context/DeviceContext';\nimport { getDevicePanelsText } from '@/components/devicePanelsText';\nimport { useLanguage } from '@/components/context/LanguageContext';\n\nexport const ModeEffectPreview = () => {\n  const { deviceData } = useDevice();\n  const divRef = useRef(null);\n  const animationRef = useRef(null);\n  const animationStateRef = useRef({\n    hue: 0,\n    fadeAngle: 0,\n    waveAngle: 0,\n    twinkles: null,\n    sunsetStep: 0,\n    sunsetIndex: 0,\n    gradientProgress: 0,\n  });\n\n  // Language system\n  const { locale } = useLanguage();\n  const [text, setText] = useState(getDevicePanelsText(\"en\"));\n\n  // Update text when locale changes\n  useEffect(() => {\n    const newText = getDevicePanelsText(locale);\n    if (newText) {\n      setText(newText);\n    }\n  }, [locale]);\n\n  const hsvToRgb = (h, s, v) => {\n    h = h % 360;\n    s = s / 100;\n    v = v / 100;\n    let c = v * s;\n    let x = c * (1 - Math.abs(((h / 60) % 2) - 1));\n    let m = v - c;\n    let r, g, b;\n    if (h < 60) [r, g, b] = [c, x, 0];\n    else if (h < 120) [r, g, b] = [x, c, 0];\n    else if (h < 180) [r, g, b] = [0, c, x];\n    else if (h < 240) [r, g, b] = [0, x, c];\n    else if (h < 300) [r, g, b] = [x, 0, c];\n    else [r, g, b] = [c, 0, x];\n    return {\n      r: Math.round((r + m) * 255),\n      g: Math.round((g + m) * 255),\n      b: Math.round((b + m) * 255),\n    };\n  };\n\n  const parseRgb = (rgbStr) => {\n    const match = rgbStr.match(/(\\d+),\\s*(\\d+),\\s*(\\d+)/);\n    if (match) {\n      return {\n        r: parseInt(match[1]),\n        g: parseInt(match[2]),\n        b: parseInt(match[3]),\n      };\n    }\n    return { r: 255, g: 0, b: 0 };\n  };\n\n  const getComplementaryColor = (rgbStr) => {\n    const { r, g, b } = parseRgb(rgbStr);\n    return `rgb(${255 - r}, ${255 - g}, ${255 - b})`;\n  };\n\n  const updateAnimation = () => {\n    if (!divRef.current) return;\n    const state = animationStateRef.current;\n    const { r, g, b } = parseRgb(deviceData.color);\n\n    switch (deviceData.mode) {\n      case 'Color':\n        divRef.current.style.background = deviceData.color;\n        break;\n\n      case 'Off':\n        divRef.current.style.background = 'rgb(0, 0, 0, 0)';\n        break;\n\n      case 'Fade':\n      case 'Pulsating': {\n        const speed = deviceData.mode === 'Fade' ? 0.01 : 0.03;\n        state.fadeAngle = (state.fadeAngle + speed) % (2 * Math.PI);\n        const intensity = 0.2 + 0.8 * Math.abs(Math.sin(state.fadeAngle)); // avoid going full black\n        divRef.current.style.background = `rgb(${Math.floor(r * intensity)}, ${Math.floor(g * intensity)}, ${Math.floor(b * intensity)})`;\n        break;\n      }\n\n      case 'Rainbow': {\n        state.hue = (state.hue + 1) % 360;\n        const rainbow = hsvToRgb(state.hue, 100, 100);\n        divRef.current.style.background = `rgb(${rainbow.r}, ${rainbow.g}, ${rainbow.b})`;\n        break;\n      }\n\n      case 'Color Wave': {\n        state.hue = (state.hue + 1) % 360;\n        state.waveAngle = (state.waveAngle + 0.05) % (2 * Math.PI);\n        const brightness = 50 + 50 * Math.sin(state.waveAngle);\n        const wave = hsvToRgb(state.hue, 100, brightness);\n        divRef.current.style.background = `rgb(${wave.r}, ${wave.g}, ${wave.b})`;\n        break;\n      }\n\n      case 'Soft Twinkle': {\n        if (!state.twinkles) {\n          state.twinkles = Array.from({ length: 10 }, () => ({\n            opacity: Math.random(),\n            speed: 0.02 + Math.random() * 0.03,\n            direction: Math.random() > 0.5 ? 1 : -1,\n          }));\n        }\n\n        let avgOpacity = 0;\n        for (let t of state.twinkles) {\n          t.opacity += t.speed * t.direction;\n          if (t.opacity >= 1) {\n            t.opacity = 1;\n            t.direction = -1;\n          } else if (t.opacity <= 0.3) {\n            t.opacity = 0.3;\n            t.direction = 1;\n          }\n          avgOpacity += t.opacity;\n        }\n        avgOpacity /= state.twinkles.length;\n        divRef.current.style.background = `rgb(${Math.floor(r * avgOpacity)}, ${Math.floor(g * avgOpacity)}, ${Math.floor(b * avgOpacity)})`;\n        break;\n      }\n\n      case 'Warm Sunset': {\n        const sunset = [\n          parseRgb('rgb(255, 100, 0)'),\n          parseRgb('rgb(255, 50, 50)'),\n          parseRgb('rgb(255, 0, 100)'),\n        ];\n        const curr = sunset[state.sunsetIndex];\n        const next = sunset[(state.sunsetIndex + 1) % sunset.length];\n        const t = 0.5 * (1 - Math.cos(Math.PI * state.sunsetStep));\n        const blend = {\n          r: Math.floor(curr.r * (1 - t) + next.r * t),\n          g: Math.floor(curr.g * (1 - t) + next.g * t),\n          b: Math.floor(curr.b * (1 - t) + next.b * t),\n        };\n        divRef.current.style.background = `rgb(${blend.r}, ${blend.g}, ${blend.b})`;\n        state.sunsetStep += 0.005;\n        if (state.sunsetStep >= 1) {\n          state.sunsetStep = 0;\n          state.sunsetIndex = (state.sunsetIndex + 1) % sunset.length;\n        }\n        break;\n      }\n\n      case 'Glowing Gradient': {\n        const comp = getComplementaryColor(deviceData.color);\n        const baseColor = parseRgb(deviceData.color);\n        const compColor = parseRgb(comp);\n        const t = 0.5 * (1 + Math.sin(state.gradientProgress / 50));\n        state.gradientProgress += 1;\n        const glow = {\n          r: Math.floor(baseColor.r * (1 - t) + compColor.r * t),\n          g: Math.floor(baseColor.g * (1 - t) + compColor.g * t),\n          b: Math.floor(baseColor.b * (1 - t) + compColor.b * t),\n        };\n        divRef.current.style.background = `rgb(${glow.r}, ${glow.g}, ${glow.b})`;\n        break;\n      }\n\n      default:\n        divRef.current.style.background = deviceData.color;\n    }\n\n    animationRef.current = requestAnimationFrame(updateAnimation);\n  };\n\n  useEffect(() => {\n    animationStateRef.current = {\n      hue: 0,\n      fadeAngle: 0,\n      waveAngle: 0,\n      twinkles: null,\n      sunsetStep: 0,\n      sunsetIndex: 0,\n      gradientProgress: 0,\n    };\n\n    if (divRef.current) {\n      divRef.current.style.background = deviceData.color;\n    }\n\n    if (animationRef.current) {\n      cancelAnimationFrame(animationRef.current);\n    }\n    animationRef.current = requestAnimationFrame(updateAnimation);\n\n    return () => {\n      if (animationRef.current) {\n        cancelAnimationFrame(animationRef.current);\n      }\n    };\n  }, [deviceData.mode, deviceData.color]);\n\n  return (\n    <div className=\"bg-gray-800 rounded-xl p-2 relative overflow-hidden flex flex-col justify-around\">\n      <div className=\"flex justify-between items-center mb-2 z-10 relative\">\n        <div className=\"flex items-center\">\n          <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-7 w-7 text-purple-400 mr-3\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z\" />\n          </svg>\n          <h3 className=\"text-gray-300 text-xl font-medium\">{text.modeEffectPreview.title}</h3>\n        </div>\n      </div>\n\n      <div className=\"z-10 relative\">\n        <div className=\"text-sm text-center mb-2 text-gray-300 font-medium\">{text.modeEffectPreview.currentMode} <span className=\"text-purple-400\">{deviceData.mode}</span></div>\n        <div\n          ref={divRef}\n          className=\"h-24 rounded-lg border border-gray-600 relative shadow-lg\"\n          style={{\n            background: deviceData.color,\n            opacity: deviceData.brightness / 255\n          }}\n        ></div>\n      </div>\n\n      <div className=\"absolute inset-0 bg-gradient-to-br from-purple-500/10 to-amber-600/20 pointer-events-none\" />\n    </div>\n  );\n};"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3158, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3164, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Documents/programming/mistify_website/components/panels/ModeSelector.jsx"],"sourcesContent":["'use client';\nimport { useState, useEffect } from 'react';\nimport { useDevice } from '@/components/context/DeviceContext';\nimport { getDevicePanelsText } from '@/components/devicePanelsText';\nimport { useLanguage } from '@/components/context/LanguageContext';\n\nexport const ModeSelector = () => {\n  const { deviceData, setDeviceData } = useDevice();\n\n  // Language system\n  const { locale } = useLanguage();\n  const [text, setText] = useState(getDevicePanelsText(\"en\"));\n\n  // Update text when locale changes\n  useEffect(() => {\n    const newText = getDevicePanelsText(locale);\n    if (newText) {\n      setText(newText);\n    }\n  }, [locale]);\n\n  // Available lighting modes - these are the actual values stored\n  const lightingModes = [\n    \"Color\", \"Fade\", \"Color Wave\", \"Rainbow\", \n    \"Glowing Gradient\", \"Soft Twinkle\", \"Warm Sunset\", \"Pulsating\", \"Off\"\n  ];\n\n  // Function to get translated mode name\n  const getModeName = (mode) => {\n    const modeMap = {\n      \"Color\": text.modeSelector.color,\n      \"Fade\": text.modeSelector.fade,\n      \"Color Wave\": text.modeSelector.colorWave,\n      \"Rainbow\": text.modeSelector.rainbow,\n      \"Glowing Gradient\": text.modeSelector.glowingGradient,\n      \"Soft Twinkle\": text.modeSelector.softTwinkle,\n      \"Warm Sunset\": text.modeSelector.warmSunset,\n      \"Pulsating\": text.modeSelector.pulsating,\n      \"Off\": text.modeSelector.off\n    };\n    return modeMap[mode] || mode;\n  };\n\n  const setLightingMode = (mode) => {\n    setDeviceData(prev => ({...prev, mode}));\n  };\n\n  return (\n    <div className=\"bg-gray-800 rounded-xl p-4 relative overflow-hidden flex-grow\">\n      <div className=\"flex justify-between items-center mb-3 z-10 relative\">\n        <div className=\"flex items-center\">\n          <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 text-amber-400 mr-2\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z\" />\n          </svg>\n          <h3 className=\"text-gray-300 text-base font-medium\">{text.modeSelector.title}</h3>\n        </div>\n      </div>\n      \n      <div className=\"z-10 relative\">\n        <select\n          value={deviceData.mode}\n          onChange={(e) => setLightingMode(e.target.value)}\n          className=\"w-full p-2 bg-gray-700 border border-gray-600 rounded-md text-white mb-3\"\n        >\n          {lightingModes.map((mode) => (\n            <option key={mode} value={mode}>{getModeName(mode)}</option>\n          ))}\n        </select>\n        \n        <div className=\"grid-cols-4 gap-2 mt-1 hidden sm:grid\">\n          <button \n            onClick={() => setLightingMode('Color')}\n            className={`py-1 px-2 rounded-md text-xs font-medium text-center ${deviceData.mode === 'Color' ? 'bg-amber-500 text-white' : 'bg-gray-700 text-gray-300'}`}>\n            {text.modeSelector.solidColor}\n          </button>\n          <button \n            onClick={() => setLightingMode('Warm Sunset')}\n            className={`py-1 px-2 rounded-md text-xs font-medium text-center ${deviceData.mode === 'Warm Sunset' ? 'bg-amber-500 text-white' : 'bg-gray-700 text-gray-300'}`}>\n            {text.modeSelector.warmSunset}\n          </button>\n          <button \n            onClick={() => setLightingMode('Rainbow')}\n            className={`py-1 px-2 rounded-md text-xs font-medium text-center ${deviceData.mode === 'Rainbow' ? 'bg-amber-500 text-white' : 'bg-gray-700 text-gray-300'}`}>\n            {text.modeSelector.rainbow}\n          </button>\n          <button \n            onClick={() => setLightingMode('Off')}\n            className={`py-1 px-2 rounded-md text-xs font-medium text-center ${deviceData.mode === 'Off' ? 'bg-amber-500 text-white' : 'bg-gray-700 text-gray-300'}`}>\n            {text.modeSelector.turnOff}\n          </button>\n        </div>\n      </div>\n      \n      <div className=\"absolute inset-0 bg-gradient-to-br from-amber-500/5 to-amber-600/10\"></div>\n    </div>\n  );\n};"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3374, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3380, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Documents/programming/mistify_website/components/panels/TargetHumidityControl.jsx"],"sourcesContent":["\"use client\";\nimport React, { useState, useEffect } from 'react';\nimport { useDevice } from '@/components/context/DeviceContext';\nimport { getDevicePanelsText } from '@/components/devicePanelsText';\nimport { useLanguage } from '@/components/context/LanguageContext';\n\nconst TargetHumidityControl = () => {\n  const { deviceData, setDeviceData } = useDevice();\n\n  // Language system\n  const { locale } = useLanguage();\n  const [text, setText] = useState(getDevicePanelsText(\"en\"));\n\n  // Update text when locale changes\n  useEffect(() => {\n    const newText = getDevicePanelsText(locale);\n    if (newText) {\n      setText(newText);\n    }\n  }, [locale]);\n\n  const setTargetHumidity = (value) => {\n    const humidity = Math.min(Math.max(parseInt(value), 30), 75);\n    setDeviceData(prev => ({\n      ...prev,\n      targetHumidity: humidity,\n    }));\n  };\n  \n  const toggleTargetOff = () => {\n    if (deviceData.targetHumidity > 75) {\n      setDeviceData(prev => ({\n        ...prev,\n        targetHumidity: 50,\n      }));\n    } else {\n      setDeviceData(prev => ({\n        ...prev,\n        targetHumidity: 80,\n      }));\n    }\n  };\n  \n  return (\n    <div className=\"bg-gray-800 rounded-xl p-2 relative overflow-hidden flex flex-col justify-between\">\n      <div className=\"flex justify-between items-center mb-5 z-10 relative\">\n        <div className=\"flex items-center\">\n          <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-7 w-7 text-blue-400 mr-3\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\" />\n          </svg>\n          <h3 className=\"text-gray-300 text-xl font-medium\">{text.targetHumidityControl.title}</h3>\n        </div>\n        <div className=\"items-center hidden xl:flex\">\n          <span className=\"text-2xl font-bold text-blue-400\">\n            {deviceData.targetHumidity > 75 ? text.targetHumidityControl.off : `${deviceData.targetHumidity}%`}\n          </span>\n          <div className=\"ml-2 relative\">\n            <div className=\"w-12 h-12 rounded-full border-4 border-gray-700 flex items-center justify-center overflow-hidden\">\n              <div \n                className={`absolute bottom-0 left-0 right-0 transition-all duration-500 ${deviceData.targetHumidity > 75 ? 'bg-red-500' : 'bg-blue-500'}`}\n                style={{ height: `${deviceData.targetHumidity > 75 ? 0 : Math.min(deviceData.targetHumidity, 75)}%` }}\n              ></div>\n              <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6 text-blue-400 z-10\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19.5V14m6 0v5.5\" />\n              </svg>\n            </div>\n          </div>\n        </div>\n      </div>\n      \n      <div className=\"flex flex-col z-10 relative\">\n        <input\n          type=\"range\"\n          min=\"30\"\n          max=\"75\"\n          value={deviceData.targetHumidity > 75 ? 75 : deviceData.targetHumidity}\n          onChange={(e) => setTargetHumidity(e.target.value)}\n          disabled={deviceData.targetHumidity > 75}\n          className={`w-full h-3 rounded-lg appearance-none cursor-pointer mb-3 ${\n            deviceData.targetHumidity > 75 \n              ? 'bg-red-900 cursor-not-allowed opacity-50 [&::-webkit-slider-thumb]:appearance-none [&::-moz-range-thumb]:appearance-none' \n              : 'bg-gray-700 accent-blue-500'\n          }`}\n        />\n        <div className={`flex justify-between text-sm mb-2 ${deviceData.targetHumidity > 75 ? 'text-red-400 opacity-50' : 'text-gray-400'}`}>\n          <span>30%</span>\n          <span className={`font-medium ${deviceData.targetHumidity > 75 ? 'text-red-400' : 'text-blue-400'}`}>\n            {deviceData.targetHumidity > 75 ? text.targetHumidityControl.targetDisabled : '50%'}\n          </span>\n          <span>75%</span>\n        </div>\n        \n        <div className=\"grid grid-cols-4 gap-3 mt-1\">\n          <button \n            onClick={() => setTargetHumidity(40)}\n            disabled={deviceData.targetHumidity > 75}\n            className={`py-3 px-3 rounded-lg text-sm font-medium text-center transition-all ${\n              deviceData.targetHumidity > 75 \n                ? 'bg-gray-800 text-gray-500 cursor-not-allowed opacity-50' \n                : deviceData.targetHumidity === 40 \n                ? 'bg-blue-500 text-white shadow-lg' \n                : 'bg-gray-700 text-gray-300 hover:bg-gray-600'\n            }`}>\n            <div className=\"flex flex-col items-center\">\n              {text.targetHumidityControl.low} (40%)\n            </div>\n          </button>\n          <button \n            onClick={() => setTargetHumidity(50)}\n            disabled={deviceData.targetHumidity > 75}\n            className={`py-3 px-3 rounded-lg text-sm font-medium text-center transition-all ${\n              deviceData.targetHumidity > 75 \n                ? 'bg-gray-800 text-gray-500 cursor-not-allowed opacity-50' \n                : deviceData.targetHumidity === 50 \n                ? 'bg-blue-500 text-white shadow-lg' \n                : 'bg-gray-700 text-gray-300 hover:bg-gray-600'\n            }`}>\n            <div className=\"flex flex-col items-center\">\n              {text.targetHumidityControl.med} (50%)\n            </div>\n          </button>\n          <button \n            onClick={() => setTargetHumidity(60)}\n            disabled={deviceData.targetHumidity > 75}\n            className={`py-3 px-3 rounded-lg text-sm font-medium text-center transition-all ${\n              deviceData.targetHumidity > 75 \n                ? 'bg-gray-800 text-gray-500 cursor-not-allowed opacity-50' \n                : deviceData.targetHumidity === 60 \n                ? 'bg-blue-500 text-white shadow-lg' \n                : 'bg-gray-700 text-gray-300 hover:bg-gray-600'\n            }`}>\n            <div className=\"flex flex-col items-center\">\n              {text.targetHumidityControl.high} (60%)\n            </div>\n          </button>\n          <button \n            onClick={toggleTargetOff}\n            className={`py-3 px-3 rounded-lg text-sm font-medium text-center transition-all ${deviceData.targetHumidity > 75 ? 'bg-red-500 text-white shadow-lg' : 'bg-gray-700 text-gray-300 hover:bg-gray-600'}`}>\n            <div className=\"flex flex-col items-center\">\n              {deviceData.targetHumidity > 75 ? text.targetHumidityControl.targetOn : text.targetHumidityControl.targetOff}\n            </div>\n          </button>\n        </div>\n      </div>\n      \n      <div className=\"bg-gray-700/50 p-2 rounded-lg mt-2 z-10 relative hidden xl:inline\">\n        <div className=\"flex items-center justify-center text-center\">\n          <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6 text-yellow-400 mr-2 flex-shrink-0\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n          </svg>\n          <span className=\"text-sm text-gray-300\">{text.targetHumidityControl.recommendedNote}</span>\n        </div>\n      </div>\n      \n      <div className=\"absolute inset-0 bg-gradient-to-br from-blue-500/10 to-blue-600/20\"></div>\n    </div>\n  );\n};\n\nexport default TargetHumidityControl;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3756, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3762, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Documents/programming/mistify_website/components/panels/TemperatureDisplay.jsx"],"sourcesContent":["'use client';\nimport React, { useState, useEffect } from 'react';\nimport { useDevice } from '@/components/context/DeviceContext';\nimport { getDevicePanelsText } from '@/components/devicePanelsText';\nimport { useLanguage } from '@/components/context/LanguageContext';\n\nconst TemperatureDisplay = () => {\n  const { deviceData } = useDevice();\n\n  // Language system\n  const { locale } = useLanguage();\n  const [text, setText] = useState(getDevicePanelsText(\"en\"));\n\n  // Update text when locale changes\n  useEffect(() => {\n    const newText = getDevicePanelsText(locale);\n    if (newText) {\n      setText(newText);\n    }\n  }, [locale]);\n\n  const value = deviceData.temperature;\n\n  return (\n    <div className=\"bg-gray-800 rounded-xl p-4 flex items-center justify-between relative overflow-hidden\">\n      <div className=\"z-10\">\n        <h3 className=\"text-gray-400 text-sm mb-3\">\n          {text.temperatureDisplay.title}\n        </h3>\n        <div className=\"flex items-end mt-1\">\n          <span className=\"text-4xl font-bold\">{value}</span>\n          <span className=\"text-xl ml-1\">{text.temperatureDisplay.celsius}</span>\n        </div>\n      </div>\n      <div className='w-16 h-16 rounded-full border-4 flex items-center justify-center z-10 border-red-500 bg-red-500/10'>\n        <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-8 w-8 text-red-500\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" />\n        </svg>\n      </div>\n      <div className='absolute inset-0 bg-gradient-to-br from-red-500/5 to-red-600/20'></div>\n    </div>\n  );\n};\n\nexport default TemperatureDisplay;"],"names":[],"mappings":";;;;AACA;AACA;AACA;AACA;;;AAJA;;;;;AAMA,MAAM,qBAAqB;;IACzB,MAAM,EAAE,UAAU,EAAE,GAAG,CAAA,GAAA,yIAAA,CAAA,YAAS,AAAD;IAE/B,kBAAkB;IAClB,MAAM,EAAE,MAAM,EAAE,GAAG,CAAA,GAAA,2IAAA,CAAA,cAAW,AAAD;IAC7B,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE,CAAA,GAAA,iIAAA,CAAA,sBAAmB,AAAD,EAAE;IAErD,kCAAkC;IAClC,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;wCAAE;YACR,MAAM,UAAU,CAAA,GAAA,iIAAA,CAAA,sBAAmB,AAAD,EAAE;YACpC,IAAI,SAAS;gBACX,QAAQ;YACV;QACF;uCAAG;QAAC;KAAO;IAEX,MAAM,QAAQ,WAAW,WAAW;IAEpC,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAG,WAAU;kCACX,KAAK,kBAAkB,CAAC,KAAK;;;;;;kCAEhC,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAK,WAAU;0CAAsB;;;;;;0CACtC,6LAAC;gCAAK,WAAU;0CAAgB,KAAK,kBAAkB,CAAC,OAAO;;;;;;;;;;;;;;;;;;0BAGnE,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAI,OAAM;oBAA6B,WAAU;oBAAuB,MAAK;oBAAO,SAAQ;oBAAY,QAAO;8BAC9G,cAAA,6LAAC;wBAAK,eAAc;wBAAQ,gBAAe;wBAAQ,aAAa;wBAAG,GAAE;;;;;;;;;;;;;;;;0BAGzE,6LAAC;gBAAI,WAAU;;;;;;;;;;;;AAGrB;GApCM;;QACmB,yIAAA,CAAA,YAAS;QAGb,2IAAA,CAAA,cAAW;;;KAJ1B;uCAsCS"}},
    {"offset": {"line": 3895, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3901, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Documents/programming/mistify_website/components/panels/HumidityDisplay.jsx"],"sourcesContent":["\"use client\";\nimport React, { useState, useEffect } from 'react';\nimport { useDevice } from '@/components/context/DeviceContext';\nimport { getDevicePanelsText } from '@/components/devicePanelsText';\nimport { useLanguage } from '@/components/context/LanguageContext';\n\nconst HumidityDisplay = () => {\n  const { deviceData, setDeviceData } = useDevice();\n\n  // Language system\n  const { locale } = useLanguage();\n  const [text, setText] = useState(getDevicePanelsText(\"en\"));\n\n  // Update text when locale changes\n  useEffect(() => {\n    const newText = getDevicePanelsText(locale);\n    if (newText) {\n      setText(newText);\n    }\n  }, [locale]);\n\n  return (\n    <div className=\"bg-gray-800 rounded-xl p-4 flex items-center justify-between relative overflow-hidden\">\n      <div className=\"z-10\">\n        <h3 className=\"text-gray-400 text-sm\">{text.humidityDisplay.title}</h3>\n        <div className=\"flex items-end mt-1 mb-2\">\n          <span className=\"text-4xl font-bold\">{deviceData.humidity}</span>\n          <span className=\"text-xl ml-1\">%</span>\n        </div>\n        <div className='text-xs py-0.5 rounded-full h-5'>\n          <div className={`${((deviceData.controlMode === \"manual\") || (deviceData.targetHumidity === 80)) ? \"hidden\" : \"inline\"}`}>\n            <span className=\"text-xs text-gray-400\">{text.humidityDisplay.target}</span>\n            <span className=\"text-sm ml-1 font-medium mr-2\">{deviceData.targetHumidity}%</span>\n          </div>\n          {((deviceData.humidity < deviceData.targetHumidity) || (deviceData.controlMode === \"manual\" && deviceData.status === \"On\")) ? (\n            <span className=\"text-xs bg-blue-500/20 text-blue-300 px-2 py-0.5 rounded-full\">{text.humidityDisplay.increasing}</span>\n          ) : ((deviceData.humidity > deviceData.targetHumidity) || (deviceData.controlMode === \"manual\"))? (\n            <span className=\"text-xs bg-amber-500/20 text-amber-300 px-2 py-0.5 rounded-full\">{text.humidityDisplay.decreasing}</span>\n          ) : (\n            <span className=\"text-xs bg-green-500/20 text-green-300 px-2 py-0.5 rounded-full\">{text.humidityDisplay.optimal}</span>\n          )}\n        </div>\n      </div>\n      <div className=\"w-16 h-16 rounded-full border-4 border-blue-500 flex items-center justify-center bg-blue-500/10 z-10\">\n        <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-8 w-8 text-blue-500\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z\" />\n        </svg>\n      </div>\n      <div className=\"absolute inset-0 bg-gradient-to-br from-blue-500/5 to-blue-600/20\"></div>\n      {deviceData.status === 'On' && (\n        <div className=\"absolute bottom-0 left-0 right-0 h-1 bg-blue-500 animate-pulse\"></div>\n      )}\n    </div>\n  );\n};\n\nexport default HumidityDisplay;"],"names":[],"mappings":";;;;AACA;AACA;AACA;AACA;;;AAJA;;;;;AAMA,MAAM,kBAAkB;;IACtB,MAAM,EAAE,UAAU,EAAE,aAAa,EAAE,GAAG,CAAA,GAAA,yIAAA,CAAA,YAAS,AAAD;IAE9C,kBAAkB;IAClB,MAAM,EAAE,MAAM,EAAE,GAAG,CAAA,GAAA,2IAAA,CAAA,cAAW,AAAD;IAC7B,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE,CAAA,GAAA,iIAAA,CAAA,sBAAmB,AAAD,EAAE;IAErD,kCAAkC;IAClC,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;qCAAE;YACR,MAAM,UAAU,CAAA,GAAA,iIAAA,CAAA,sBAAmB,AAAD,EAAE;YACpC,IAAI,SAAS;gBACX,QAAQ;YACV;QACF;oCAAG;QAAC;KAAO;IAEX,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAG,WAAU;kCAAyB,KAAK,eAAe,CAAC,KAAK;;;;;;kCACjE,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAK,WAAU;0CAAsB,WAAW,QAAQ;;;;;;0CACzD,6LAAC;gCAAK,WAAU;0CAAe;;;;;;;;;;;;kCAEjC,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAW,GAAG,AAAC,AAAC,WAAW,WAAW,KAAK,YAAc,WAAW,cAAc,KAAK,KAAO,WAAW,UAAU;;kDACtH,6LAAC;wCAAK,WAAU;kDAAyB,KAAK,eAAe,CAAC,MAAM;;;;;;kDACpE,6LAAC;wCAAK,WAAU;;4CAAiC,WAAW,cAAc;4CAAC;;;;;;;;;;;;;4BAE1E,WAAW,QAAQ,GAAG,WAAW,cAAc,IAAM,WAAW,WAAW,KAAK,YAAY,WAAW,MAAM,KAAK,qBACnH,6LAAC;gCAAK,WAAU;0CAAiE,KAAK,eAAe,CAAC,UAAU;;;;;uCAC9G,AAAC,AAAC,WAAW,QAAQ,GAAG,WAAW,cAAc,IAAM,WAAW,WAAW,KAAK,yBACpF,6LAAC;gCAAK,WAAU;0CAAmE,KAAK,eAAe,CAAC,UAAU;;;;;qDAElH,6LAAC;gCAAK,WAAU;0CAAmE,KAAK,eAAe,CAAC,OAAO;;;;;;;;;;;;;;;;;;0BAIrH,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAI,OAAM;oBAA6B,WAAU;oBAAwB,MAAK;oBAAO,SAAQ;oBAAY,QAAO;8BAC/G,cAAA,6LAAC;wBAAK,eAAc;wBAAQ,gBAAe;wBAAQ,aAAa;wBAAG,GAAE;;;;;;;;;;;;;;;;0BAGzE,6LAAC;gBAAI,WAAU;;;;;;YACd,WAAW,MAAM,KAAK,sBACrB,6LAAC;gBAAI,WAAU;;;;;;;;;;;;AAIvB;GAhDM;;QACkC,yIAAA,CAAA,YAAS;QAG5B,2IAAA,CAAA,cAAW;;;KAJ1B;uCAkDS"}},
    {"offset": {"line": 4099, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4105, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Documents/programming/mistify_website/components/panels/ControlModeSelector.jsx"],"sourcesContent":["\"use client\";\nimport React, { useState, useEffect } from 'react';\nimport { useDevice } from '@/components/context/DeviceContext';\nimport { getDevicePanelsText } from '@/components/devicePanelsText';\nimport { useLanguage } from '@/components/context/LanguageContext';\n\nconst ControlModeSelector = () => {\n  const { deviceData, setDeviceData, setTimeLeft, setIsActive } = useDevice();\n\n  // Language system\n  const { locale } = useLanguage();\n  const [text, setText] = useState(getDevicePanelsText(\"en\"));\n\n  // Update text when locale changes\n  useEffect(() => {\n    const newText = getDevicePanelsText(locale);\n    if (newText) {\n      setText(newText);\n    }\n  }, [locale]);\n\n  const isAuto = deviceData.controlMode === 'auto';\n\n  const toggleControlMode = () => {\n    const newMode = isAuto ? 'manual' : 'auto';\n    setDeviceData(prev => ({\n      ...prev,\n      controlMode: newMode,\n    }));\n    if (newMode === 'auto') {\n      setIsActive(false);\n      setTimeLeft(0);\n      setDeviceData(prev => ({\n        ...prev,\n        timer: null,\n        timerActive: false\n      }));\n    }\n  };\n\n  return (\n    <div className=\"bg-gray-800 rounded-xl p-4 relative overflow-hidden flex flex-col justify-evenly flex-1 w-full h-full flex-grow\">\n      <div className=\"flex justify-between items-center mb-9 z-10 relative\">\n        <div className=\"flex items-center\">\n          <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-7 w-7 text-yellow-400 mr-3\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-3-3v6m7.5 0A7.5 7.5 0 1112 4.5 7.5 7.5 0 0121.5 12z\" />\n          </svg>\n          <h3 className=\"text-gray-300 text-xl font-medium\">{text.controlModeSelector.title}</h3>\n        </div>\n      </div>\n\n      <div className=\"flex flex-col items-center z-10 relative\">\n        <div className=\"mb-8 w-full\">\n          <div className=\"text-center mb-4\">\n            <span className={`text-2xl font-bold ${isAuto ? 'text-yellow-400' : 'text-blue-400'}`}>\n              {isAuto ? text.controlModeSelector.autoMode : text.controlModeSelector.manualMode}\n            </span>\n          </div>\n\n          <div className=\"flex items-center justify-center\">\n            <label className=\"relative inline-flex cursor-pointer select-none items-center\">\n              <input\n                type=\"checkbox\"\n                checked={isAuto}\n                onChange={toggleControlMode}\n                className=\"sr-only\"\n              />\n              <span className=\"label flex items-center text-xl font-medium text-blue-400\">\n                {text.controlModeSelector.manual}\n              </span>\n              <span\n                className={`slider mx-6 flex h-14 w-[120px] items-center rounded-full p-2 duration-200 ${\n                  isAuto ? 'bg-yellow-400' : 'bg-blue-500'\n                }`}\n              >\n                <span\n                  className={`dot h-10 w-10 rounded-full bg-white duration-200 ${\n                    isAuto ? 'translate-x-[72px]' : ''\n                  }`}\n                ></span>\n              </span>\n              <span className=\"label flex items-center text-xl font-medium text-yellow-300\">\n                {text.controlModeSelector.auto}\n              </span>\n            </label>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"absolute inset-0 bg-gradient-to-br from-yellow-400/10 to-indigo-600/20\"></div>\n      <div className={`absolute bottom-0 left-0 right-0 h-1.5 ${isAuto ? 'bg-yellow-400' : 'bg-blue-500'}`}></div>\n    </div>\n  );\n};\n\nexport default ControlModeSelector;"],"names":[],"mappings":";;;;AACA;AACA;AACA;AACA;;;AAJA;;;;;AAMA,MAAM,sBAAsB;;IAC1B,MAAM,EAAE,UAAU,EAAE,aAAa,EAAE,WAAW,EAAE,WAAW,EAAE,GAAG,CAAA,GAAA,yIAAA,CAAA,YAAS,AAAD;IAExE,kBAAkB;IAClB,MAAM,EAAE,MAAM,EAAE,GAAG,CAAA,GAAA,2IAAA,CAAA,cAAW,AAAD;IAC7B,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE,CAAA,GAAA,iIAAA,CAAA,sBAAmB,AAAD,EAAE;IAErD,kCAAkC;IAClC,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;yCAAE;YACR,MAAM,UAAU,CAAA,GAAA,iIAAA,CAAA,sBAAmB,AAAD,EAAE;YACpC,IAAI,SAAS;gBACX,QAAQ;YACV;QACF;wCAAG;QAAC;KAAO;IAEX,MAAM,SAAS,WAAW,WAAW,KAAK;IAE1C,MAAM,oBAAoB;QACxB,MAAM,UAAU,SAAS,WAAW;QACpC,cAAc,CAAA,OAAQ,CAAC;gBACrB,GAAG,IAAI;gBACP,aAAa;YACf,CAAC;QACD,IAAI,YAAY,QAAQ;YACtB,YAAY;YACZ,YAAY;YACZ,cAAc,CAAA,OAAQ,CAAC;oBACrB,GAAG,IAAI;oBACP,OAAO;oBACP,aAAa;gBACf,CAAC;QACH;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAI,OAAM;4BAA6B,WAAU;4BAA+B,MAAK;4BAAO,SAAQ;4BAAY,QAAO;sCACtH,cAAA,6LAAC;gCAAK,eAAc;gCAAQ,gBAAe;gCAAQ,aAAa;gCAAG,GAAE;;;;;;;;;;;sCAEvE,6LAAC;4BAAG,WAAU;sCAAqC,KAAK,mBAAmB,CAAC,KAAK;;;;;;;;;;;;;;;;;0BAIrF,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC;gCAAK,WAAW,CAAC,mBAAmB,EAAE,SAAS,oBAAoB,iBAAiB;0CAClF,SAAS,KAAK,mBAAmB,CAAC,QAAQ,GAAG,KAAK,mBAAmB,CAAC,UAAU;;;;;;;;;;;sCAIrF,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC;gCAAM,WAAU;;kDACf,6LAAC;wCACC,MAAK;wCACL,SAAS;wCACT,UAAU;wCACV,WAAU;;;;;;kDAEZ,6LAAC;wCAAK,WAAU;kDACb,KAAK,mBAAmB,CAAC,MAAM;;;;;;kDAElC,6LAAC;wCACC,WAAW,CAAC,2EAA2E,EACrF,SAAS,kBAAkB,eAC3B;kDAEF,cAAA,6LAAC;4CACC,WAAW,CAAC,iDAAiD,EAC3D,SAAS,uBAAuB,IAChC;;;;;;;;;;;kDAGN,6LAAC;wCAAK,WAAU;kDACb,KAAK,mBAAmB,CAAC,IAAI;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAOxC,6LAAC;gBAAI,WAAU;;;;;;0BACf,6LAAC;gBAAI,WAAW,CAAC,uCAAuC,EAAE,SAAS,kBAAkB,eAAe;;;;;;;;;;;;AAG1G;GAvFM;;QAC4D,yIAAA,CAAA,YAAS;QAGtD,2IAAA,CAAA,cAAW;;;KAJ1B;uCAyFS"}},
    {"offset": {"line": 4323, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4329, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Documents/programming/mistify_website/components/panels/PowerControl.jsx"],"sourcesContent":["\"use client\";\nimport React, { useState, useEffect } from 'react';\nimport { useDevice } from '@/components/context/DeviceContext';\nimport { getDevicePanelsText } from '@/components/devicePanelsText';\nimport { useLanguage } from '@/components/context/LanguageContext';\n\nconst PowerControl = () => {\n  const { deviceData, setDeviceData } = useDevice();\n\n  // Language system\n  const { locale } = useLanguage();\n  const [text, setText] = useState(getDevicePanelsText(\"en\"));\n\n  // Update text when locale changes\n  useEffect(() => {\n    const newText = getDevicePanelsText(locale);\n    if (newText) {\n      setText(newText);\n    }\n  }, [locale]);\n  \n  const togglePower = () => {\n    const newStatus = deviceData.status === 'On' ? 'Off' : 'On';\n    setDeviceData(prev => ({\n      ...prev,\n      status: newStatus,\n    }));\n  };\n  \n  return (\n    <div className=\"bg-gray-800 rounded-xl p-4 relative overflow-hidden flex flex-col justify-evenly\">\n      <div className=\"flex justify-between items-center mb-5 z-10 relative\">\n        <div className=\"flex items-center\">\n          <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-7 w-7 text-blue-400 mr-3\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 10V3L4 14h7v7l9-11h-7z\" />\n          </svg>\n          <h3 className=\"text-gray-300 text-xl font-medium\">{text.powerControl.title}</h3>\n        </div>\n      </div>\n      \n      <div className=\"flex flex-col items-center z-10 relative\">\n        <div className=\"mb-6 w-full\">\n          <div className=\"text-center mb-4\">\n            <span className={`text-2xl font-bold ${deviceData.status === 'On' ? 'text-green-400' : 'text-gray-400'}`}>\n              {deviceData.status === 'On' ? text.powerControl.running : text.powerControl.standby}\n            </span>\n            \n            <div className=\"flex justify-center mt-2 h-2\"> {/* Fixed height container */}\n              <div className={`animate-pulse flex space-x-1 ${deviceData.status === 'On' ? 'opacity-100' : 'opacity-0'}`}>\n                <div className={`w-2 h-2 ${deviceData.status === 'On' ? 'bg-green-400' : 'bg-gray-400'} rounded-full`}></div>\n                <div className={`w-2 h-2 ${deviceData.status === 'On' ? 'bg-green-400' : 'bg-gray-400'} rounded-full`}></div>\n                <div className={`w-2 h-2 ${deviceData.status === 'On' ? 'bg-green-400' : 'bg-gray-400'} rounded-full`}></div>\n              </div>\n            </div>\n          </div>\n          \n          <div className=\"flex items-center justify-center\">\n            <label className=\"relative inline-flex cursor-pointer select-none items-center\">\n              <input\n                type=\"checkbox\"\n                checked={deviceData.status === 'On'}\n                onChange={togglePower}\n                className=\"sr-only\"\n              />\n              <span className=\"label flex items-center text-xl font-medium text-gray-400\">\n                {text.powerControl.off}\n              </span>\n              <span\n                className={`slider mx-6 flex h-14 w-[120px] items-center rounded-full p-2 duration-200 ${\n                  deviceData.status === 'On' ? 'bg-blue-500' : 'bg-gray-600'\n                }`}\n              >\n                <span\n                  className={`dot h-10 w-10 rounded-full bg-white duration-200 ${\n                    deviceData.status === 'On' ? 'translate-x-[72px]' : ''\n                  }`}\n                ></span>\n              </span>\n              <span className=\"label flex items-center text-xl font-medium text-green-400\">\n                {text.powerControl.on}\n              </span>\n            </label>\n          </div>\n        </div>\n      </div>\n      \n      <div className=\"absolute inset-0 bg-gradient-to-br from-blue-500/10 to-indigo-600/20\"></div>\n      {deviceData.status === 'On' && (\n        <div className=\"absolute bottom-0 left-0 right-0 h-1.5 bg-blue-500\"></div>\n      )}\n    </div>\n  );\n};\n\nexport default PowerControl;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4579, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4585, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Documents/programming/mistify_website/components/panels/TimerControl.jsx"],"sourcesContent":["\"use client\";\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useDevice } from '@/components/context/DeviceContext';\nimport { getDevicePanelsText } from '@/components/devicePanelsText';\nimport { useLanguage } from '@/components/context/LanguageContext';\n\nconst showGlobalToast = (message) => {\n  const event = new CustomEvent('showToast', {\n     detail: { message }\n  });\n  window.dispatchEvent(event);\n};\n\nconst TimerControl = () => {\n  const { deviceData, setDeviceData, isActive, timeLeft, setTimeLeft, setIsActive } = useDevice();\n  const [hours, setHours] = useState(0);\n  const [minutes, setMinutes] = useState(0);\n\n  // Language system\n  const { locale } = useLanguage();\n  const [text, setText] = useState(getDevicePanelsText(\"en\"));\n\n  // Update text when locale changes\n  useEffect(() => {\n    const newText = getDevicePanelsText(locale);\n    if (newText) {\n      setText(newText);\n    }\n  }, [locale]);\n\n  useEffect(() => {\n    const remainingMs  = deviceData.timer * 1000;\n\n    if (remainingMs > 0) {\n      setTimeLeft(deviceData.timer); \n      setIsActive(true);\n      \n      setDeviceData(prev => ({\n        ...prev,\n        timerActive: true\n      }));\n    } else {\n      setIsActive(false);\n      setTimeLeft(0);\n    }\n  }, [deviceData.timer, deviceData.timerActive, setDeviceData]);\n\n  const handleSetTimer = () => {\n    const totalMinutes = (hours * 60) + minutes;\n    if (totalMinutes > 0) {\n      const totalSeconds = totalMinutes * 60;\n      setTimeLeft(totalSeconds);\n      setIsActive(true);\n      \n      setDeviceData(prev => ({\n        ...prev,\n        timer: totalSeconds,\n        timerActive: true\n      }));\n             \n      showGlobalToast(`${text.timerControl.timerSetMessage} ${hours}h ${minutes}m`);\n             \n      setHours(0);\n      setMinutes(0);\n    }\n  };\n\n  const handleCancelTimer = () => {\n    setIsActive(false);\n    setTimeLeft(0);\n    setDeviceData(prev => ({\n      ...prev,\n      timer: null,\n      timerActive: false\n    }));\n    showGlobalToast(text.timerControl.timerCancelledMessage);\n  };\n\n  const formatTime = (seconds) => {\n    const hrs = Math.floor(seconds / 3600);\n    const mins = Math.floor((seconds % 3600) / 60);\n    const secs = seconds % 60;\n    \n    if (hrs > 0) {\n      return `${hrs}:${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;\n    }\n    return `${mins}:${secs.toString().padStart(2, '0')}`;\n  };\n\n  return (\n    <div className=\"rounded-xl p-4 relative overflow-hidden flex flex-col justify-between bg-gradient-to-br from-gray-500/10 to-gray-600/20\">\n      <div className=\"flex items-center mb-3 z-10 relative\">\n        <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-7 w-7 text-blue-400 mr-3\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\n        </svg>\n        <h3 className=\"text-gray-300 text-xl font-medium\">\n          {isActive ? text.timerControl.timerRunning : text.timerControl.setTimer}\n        </h3>\n      </div>\n      \n      {isActive ? (\n        // Timer display when active\n        <div className=\"text-center mb-4\">\n          <div className=\"text-4xl font-mono font-bold text-blue-400 mb-2\">\n            {formatTime(timeLeft)}\n          </div>\n          <div className=\"text-gray-400\">{text.timerControl.timeRemaining}</div>\n        </div>\n      ) : (\n        // Timer setup when inactive\n        <div className=\"grid grid-cols-2 gap-4 mb-3\">\n          <div className=\"bg-gray-700 rounded-lg p-3\">\n            <label className=\"block text-sm text-gray-400 mb-2\">{text.timerControl.hours}</label>\n            <select\n              value={hours}\n              onChange={(e) => setHours(parseInt(e.target.value))}\n              className=\"w-full bg-gray-600 border-none rounded-lg text-lg py-2 px-3 text-white\"\n            >\n              {Array.from({length: 13}, (_, i) => (\n                <option key={i} value={i}>{i}</option>\n              ))}\n            </select>\n          </div>\n                 \n          <div className=\"bg-gray-700 rounded-lg p-3\">\n            <label className=\"block text-sm text-gray-400 mb-2\">{text.timerControl.minutes}</label>\n            <select\n              value={minutes}\n              onChange={(e) => setMinutes(parseInt(e.target.value))}\n              className=\"w-full bg-gray-600 border-none rounded-lg text-lg py-2 px-3 text-white\"\n            >\n              {Array.from({length: 12}, (_, i) => (\n                <option key={i*5} value={i*5}>{i*5}</option>\n              ))}\n            </select>\n          </div>\n        </div>\n      )}\n             \n      <div className=\"z-10 relative\">\n        {isActive ? (\n          <button\n            onClick={handleCancelTimer}\n            className=\"w-full py-3 bg-red-500 hover:bg-red-600 text-white rounded-lg text-lg font-medium transition-colors shadow-lg hover:shadow-xl flex items-center justify-center\"\n          >\n            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 mr-2\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n            </svg>\n            {text.timerControl.cancelTimer}\n          </button>\n        ) : (\n          <button\n            onClick={handleSetTimer}\n            className=\"w-full py-3 bg-blue-500 hover:bg-blue-600 text-white rounded-lg text-lg font-medium transition-colors shadow-lg hover:shadow-xl flex items-center justify-center\"\n            disabled={hours === 0 && minutes === 0}\n          >\n            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 mr-2\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\n            </svg>\n            {text.timerControl.setTimerButton}\n          </button>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default TimerControl;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4923, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4929, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Documents/programming/mistify_website/components/deviceManagerText.js"],"sourcesContent":["// DeviceManager Page Text Translations\n\nconst deviceManagerText = {\n  en: {\n    // Header\n    backButton: \"Back\",\n    title: \"Mistify Humidifier\",\n    connected: \"Connected\",\n    disconnected: \"Disconnected\",\n    deviceIdLabel: \"Device ID:\",\n    \n    // Lid Disconnected Warning\n    lidWarning: {\n      title: \"TOP DISCONNECTED\",\n      message: \"The humidifier top has been disconnected. Please securely reconnect the top before continuing operation.\",\n      safetyNote: \"Device controls are disabled for safety\",\n      waiting: \"Waiting for top connection...\"\n    },\n    \n    // Toast messages (can be used by child components too)\n    toastMessages: {\n      success: \"Success\",\n      error: \"Error\",\n      updated: \"Settings updated successfully\"\n    }\n  },\n  \n  lv: {\n    // Header\n    backButton: \"Atpakaļ\",\n    title: \"Mistify Mitrinātājs\",\n    connected: \"Savienots\",\n    disconnected: \"Atvienots\",\n    deviceIdLabel: \"Ierīces ID:\",\n    \n    // Lid Disconnected Warning\n    lidWarning: {\n      title: \"AUGŠDAĻA ATVIENOTA\",\n      message: \"Mitrinātāja augšdaļa ir atvienota. Lūdzu, droši pievienojiet augšdaļu, pirms turpināt darbību.\",\n      safetyNote: \"Ierīces vadīklas ir atspējotas drošības nolūkos\",\n      waiting: \"Gaida augšdaļas savienojumu...\"\n    },\n    \n    // Toast messages (can be used by child components too)\n    toastMessages: {\n      success: \"Veiksmīgi\",\n      error: \"Kļūda\",\n      updated: \"Iestatījumi veiksmīgi atjaunināti\"\n    }\n  }\n};\n\nexport const getDeviceManagerText = (locale) => {\n  return deviceManagerText[locale] || deviceManagerText.en;\n};"],"names":[],"mappings":"AAAA,uCAAuC;;;;AAEvC,MAAM,oBAAoB;IACxB,IAAI;QACF,SAAS;QACT,YAAY;QACZ,OAAO;QACP,WAAW;QACX,cAAc;QACd,eAAe;QAEf,2BAA2B;QAC3B,YAAY;YACV,OAAO;YACP,SAAS;YACT,YAAY;YACZ,SAAS;QACX;QAEA,uDAAuD;QACvD,eAAe;YACb,SAAS;YACT,OAAO;YACP,SAAS;QACX;IACF;IAEA,IAAI;QACF,SAAS;QACT,YAAY;QACZ,OAAO;QACP,WAAW;QACX,cAAc;QACd,eAAe;QAEf,2BAA2B;QAC3B,YAAY;YACV,OAAO;YACP,SAAS;YACT,YAAY;YACZ,SAAS;QACX;QAEA,uDAAuD;QACvD,eAAe;YACb,SAAS;YACT,OAAO;YACP,SAAS;QACX;IACF;AACF;AAEO,MAAM,uBAAuB,CAAC;IACnC,OAAO,iBAAiB,CAAC,OAAO,IAAI,kBAAkB,EAAE;AAC1D"}},
    {"offset": {"line": 4983, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4989, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Documents/programming/mistify_website/components/DeviceManager.jsx"],"sourcesContent":["'use client';\nimport { useDevice } from '@/components/context/DeviceContext';\nimport { DeviceManagerConnection } from '@/components/context/DeviceContext';\nimport BrightnessSelector from '@/components/panels/BrightnessSelector.jsx';\nimport { ColorSelector } from '@/components/panels/ColorSelector.jsx';\nimport { ModeEffectPreview } from '@/components/panels/ModeEffectPreview.jsx';\nimport { ModeSelector } from '@/components/panels/ModeSelector.jsx';\nimport TargetHumidityControl from '@/components/panels/TargetHumidityControl.jsx';\nimport TemperatureDisplay from '@/components/panels/TemperatureDisplay.jsx';\nimport HumidityDisplay from '@/components/panels/HumidityDisplay.jsx';\nimport ControlModeSelector from '@/components/panels/ControlModeSelector.jsx';\nimport PowerControl from '@/components/panels/PowerControl';\nimport TimerControl from '@/components/panels/TimerControl.jsx';\nimport { getDeviceManagerText } from '@/components/deviceManagerText';\nimport { useLanguage } from '@/components/context/LanguageContext';\nimport { useState, useEffect, useRef } from 'react';\n  \nconst DeviceManager = ({ deviceId, onBack }) => {\n  const { deviceData, disconnect } = useDevice();\n  const [toast, setToast] = useState({ show: false, message: '' });\n  const timeoutRef = useRef(null);\n  \n  // Language system\n  const { locale } = useLanguage();\n  const [text, setText] = useState(getDeviceManagerText(\"en\"));\n\n  // Update text when locale changes\n  useEffect(() => {\n    const newText = getDeviceManagerText(locale);\n    if (newText) {\n      setText(newText);\n    }\n  }, [locale]);\n  \n  useEffect(() => {     \n    const handleToast = (event) => {\n      // Clear any existing timeout\n      if (timeoutRef.current) {\n        clearTimeout(timeoutRef.current);\n      }\n      \n      setToast({ show: true, message: event.detail.message });              \n      \n      // Set new timeout and store the reference\n      timeoutRef.current = setTimeout(() => {         \n        setToast({ show: false, message: '' });       \n      }, 3000);     \n    };          \n    \n    window.addEventListener('showToast', handleToast);          \n    \n    return () => {       \n      window.removeEventListener('showToast', handleToast);\n      // Clean up timeout on unmount\n      if (timeoutRef.current) {\n        clearTimeout(timeoutRef.current);\n      }     \n    };   \n  }, []);\n\n  const handleBack = () => {\n    disconnect(); \n    onBack(); \n  };\n\n  // Check if lid is disconnected\n  const isLidDisconnected = deviceData.lidStatus === \"disconnected\";\n  \n  return (\n    <div className=\"h-full md:min-h-[calc(100vh)] bg-gray-900 text-white shadow-2xl overflow-hidden flex flex-col relative\">\n\n      {/* Blocking overlay when lid is disconnected */}\n      {isLidDisconnected && (\n        <div className=\"fixed top-[76px] inset-0 bg-black bg-opacity-60 z-[100] flex items-center justify-center p-4\">\n          <div className=\"bg-red-600 border-2 border-red-400 rounded-2xl shadow-2xl max-w-md w-full mx-4 p-8 text-center animate-pulse\">\n            <div className=\"mb-6\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-16 w-16 text-red-200 mx-auto mb-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 15.5c-.77.833.192 2.5 1.732 2.5z\" />\n              </svg>\n            </div>\n            <h2 className=\"text-2xl font-bold text-white mb-4\">{text.lidWarning.title}</h2>\n            <p className=\"text-red-100 text-lg mb-6 leading-relaxed\">\n              {text.lidWarning.message}\n            </p>\n            <div className=\"bg-red-700 rounded-lg p-4 mb-4\">\n              <p className=\"text-red-100 text-sm font-medium\">\n                {text.lidWarning.safetyNote}\n              </p>\n            </div>\n            <div className=\"flex items-center justify-center text-red-200 text-sm\">\n              {text.lidWarning.waiting}\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Success toast */}\n      {toast.show && (\n        <div className=\"fixed inset-x-0 top-16 mx-auto z-50 flex justify-center animate-fade-in\">\n          <div className=\"bg-green-500 text-white px-6 py-4 rounded-lg shadow-xl flex items-center max-w-md\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6 mr-3 flex-shrink-0\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\n            </svg>\n            <p className=\"font-medium text-lg\">{toast.message}</p>\n          </div>\n        </div>\n      )}\n\n      {/* Include the connection manager component */}\n      <DeviceManagerConnection deviceId={deviceId} />\n      \n      {/* Header with logo */}\n      <div className=\"flex items-center justify-between p-4 bg-gray-800\">\n        <div className=\"flex items-center space-x-2\">\n          <button \n            onClick={handleBack}\n            className=\"flex items-center text-blue-400 hover:text-blue-300 transition-colors mr-2\"\n          >\n            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n              <path fillRule=\"evenodd\" d=\"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z\" clipRule=\"evenodd\" />\n            </svg>\n            <span className=\"ml-1 hidden sm:inline\">{text.backButton}</span>\n          </button>\n          <img src=\"/logo.png\" alt=\"Mistify Logo\" className=\"h-8\" />\n          <h1 className=\"text-xl font-bold hidden sm:inline\">{text.title}</h1>\n        </div>\n        <div className=\"flex items-center space-x-4\">\n          <div className=\"flex items-center text-sm\">\n            <div className={`w-2 h-2 rounded-full mr-2 ${deviceData.isConnected ? 'bg-green-400 animate-pulse' : 'bg-red-500'}`}></div>\n            <span>{deviceData.isConnected ? text.connected : text.disconnected}</span>\n          </div>\n          <div className=\"flex items-center bg-gray-700 rounded-full px-3 py-1\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-4 w-4 text-blue-400 mr-1\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n            </svg>\n            <span className=\"text-xs\"><span className='hidden sm:inline'>{text.deviceIdLabel} </span>{deviceId || 'MH-2023X'}</span>\n          </div>\n        </div>\n      </div>\n      \n      {/* Main content */}\n      <div className=\"p-2 px-4 sm:px-[15vw] flex-grow flex flex-col space-y-2 bg-gray-900\">\n        {/* Environment Info Section */}\n        <section className=\"bg-gray-800 rounded-xl shadow-lg p-2\">\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\n            <TemperatureDisplay />\n            <HumidityDisplay />\n          </div>\n        </section>\n\n        {/* Color Control Section */}\n        <section className=\"bg-gray-800 rounded-xl shadow-lg p-2\">\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\n            <ModeSelector />\n            <BrightnessSelector />\n            <ColorSelector />\n            <ModeEffectPreview />\n          </div>\n        </section>\n\n        {/* Power Control Section */}\n        <section className=\"bg-gray-800 rounded-xl shadow-lg p-2\">\n          <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-4\">\n            <ControlModeSelector />\n            {deviceData.controlMode === 'manual' ? (\n              <>\n                <PowerControl />\n                <TimerControl />\n              </>\n            ) : (\n              <div className=\"sm:col-span-2\">\n                <TargetHumidityControl />\n              </div>\n            )}\n          </div>\n        </section>\n      </div>\n    </div>\n  );\n};\n\nexport default DeviceManager;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5518, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 5524, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Documents/programming/mistify_website/app/connect/page.js"],"sourcesContent":["\"use client\";\nexport const dynamic = \"force-dynamic\";\n\nimport { useState, useEffect } from \"react\";\nimport Connect from \"@/components/Connect\";\nimport DeviceManager from \"@/components/DeviceManager\";\nimport { DeviceProvider } from \"@/components/context/DeviceContext\";\n\nexport default function ConnectPage() {\n  const [activeDevice, setActiveDevice] = useState(null);\n  const [deviceStatuses, setDeviceStatuses] = useState({});\n  const [checkDeviceStatus, setCheckDeviceStatus] = useState(null);\n\n  useEffect(() => {\n    if (!activeDevice && checkDeviceStatus) {\n      checkDeviceStatus();\n    }\n  }, [activeDevice, checkDeviceStatus]);\n\n  const updateDeviceStatuses = (newStatuses) => {\n    setDeviceStatuses(newStatuses);\n  };\n\n  const handleBackToConnect = () => {\n    setActiveDevice(null);\n  };\n\n  return (\n    <DeviceProvider>\n      <div className={activeDevice ? \"hidden\" : \"\"}>\n        <Connect\n          setActiveDevice={setActiveDevice}\n          deviceStatuses={deviceStatuses}\n          updateDeviceStatuses={updateDeviceStatuses}\n          refreshOnReturn={activeDevice !== null}\n          setCheckDeviceStatusFunction={setCheckDeviceStatus}\n        />\n      </div>\n\n      <div className={activeDevice ? \"\" : \"hidden\"}>\n        <DeviceManager\n          deviceId={activeDevice}\n          onBack={handleBackToConnect}\n        />\n      </div>\n    </DeviceProvider>\n  );\n}\n"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;AACA;;;AANA;AACO,MAAM,UAAU;;;;;AAOR,SAAS;;IACtB,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACjD,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE,CAAC;IACtD,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAE3D,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;iCAAE;YACR,IAAI,CAAC,gBAAgB,mBAAmB;gBACtC;YACF;QACF;gCAAG;QAAC;QAAc;KAAkB;IAEpC,MAAM,uBAAuB,CAAC;QAC5B,kBAAkB;IACpB;IAEA,MAAM,sBAAsB;QAC1B,gBAAgB;IAClB;IAEA,qBACE,6LAAC,yIAAA,CAAA,iBAAc;;0BACb,6LAAC;gBAAI,WAAW,eAAe,WAAW;0BACxC,cAAA,6LAAC,yHAAA,CAAA,UAAO;oBACN,iBAAiB;oBACjB,gBAAgB;oBAChB,sBAAsB;oBACtB,iBAAiB,iBAAiB;oBAClC,8BAA8B;;;;;;;;;;;0BAIlC,6LAAC;gBAAI,WAAW,eAAe,KAAK;0BAClC,cAAA,6LAAC,+HAAA,CAAA,UAAa;oBACZ,UAAU;oBACV,QAAQ;;;;;;;;;;;;;;;;;AAKlB;GAvCwB;KAAA"}},
    {"offset": {"line": 5611, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}